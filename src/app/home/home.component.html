<div id="liveAlertPlaceholder" style="           position: fixed;

z-index: 9999;

display: block;

width: -webkit-fill-available;

padding: 0 10px 0 0;
margin-top: -28px;">

    <ngb-alert style = 'background: #0fba64;'type="success" *ngIf="showLiveAlertResendInvitation" (closed)="showLiveAlertResendInvitation = false"><span style="color: white;">{{errorMessageResendInvitation}}</span></ngb-alert>

</div>
<ng-template #toggleModal1 let-modal>
    <div class="card" style="background-color: #282E38;margin-bottom: 0;">
        <div class="card-body" style="background-color: #282E38 ;min-width: min-content;">
            <div class=" float-end" ngbDropdown placement="bottom-end">
                <a href="javascript:void(0)" class="dropdown-toggle arrow-none card-drop" (click)="modal.dismiss('');basicWizardForm.reset();list=3;listdetails=[];reloadCurrentPage()" ngbDropdownToggle>
                    <i class="mdi mdi-close"></i>
                </a>
            </div>            
            <h4 style="color: white;">Create Organisation</h4>
    
            <form [formGroup]="basicWizardForm" #basicForm="ngForm">
                <div id="basicwizard">
    
                    <ul ngbNav #basicWizard="ngbNav" [(activeId)]="activeWizard1"
                        class="nav-pills nav-justified form-wizard-header mb-4" style="display: grid;
                        grid-template-columns: repeat(auto-fill, minmax(8rem , 5fr)); background-color: #313844;">
                        <li [ngbNavItem]="1">
                            <a [ngStyle]=" activeWizard1 > 1 ? ngstyle():null" ngbNavLink class="rounded-0 pt-2 pb-2">
                                <span class="d-sm-inline">Org Admin</span>
                            </a>
                            <ng-template ngbNavContent>
                                <div class="row" >
                                    <div class="col-12">
                                        <div class="row mb-3">
                                            <div class="col-md">
                                                <div class="form-floating ">
                                                    <input type="text"  class="form-control" id="userName1" style="    height: 3rem;
                                                       color: #9BA6AC;" minlength="3"
                                                       
                                                       oninput=" this.value = this.value.replace(/[0-9]/g,'')" 
                                                       name="userName" placeholder="Organisation Name" required formControlName="organization_name"[ngClass]="{  'is-invalid':form1['organization_name'].touched&&form1['organization_name'].invalid||firstFormSubmitted  && form1['organization_name'].invalid }">
                                                        <label for="floatingInput" style="font-size: 0.8rem;    color: #9BA6AC" class="form-label" i18n>Organisation Name</label>
                                                       <div *ngIf="form1['organization_name'].touched&&form1['organization_name'].invalid || firstFormSubmitted && form1['organization_name'].invalid " class="invalid-feedback">
                                                            <div *ngIf="form1['organization_name'].errors?.['required']" i18n>
                                                                Mandatory field
                                                              </div>
                                                              <div *ngIf="form1['organization_name'].errors?.['minlength']" i18n>
                                                                Enter full Organisation Name
                                                              </div>
                                                        </div>

                                                </div>

                            


                                            </div>
                                        </div>
                                        <div class="row ">
                                            <div class="col-md-6">
                                                <div class="form-floating mb-3">
                                                    <input type="text" class="form-control" id="userName1" style=" height: 3rem;color: #9BA6AC;    "
                                                    pattern="^([a-zA-Z]{2,}\s[a-zA-Z]{1,}'?-?[a-zA-Z]{2,}\s?([a-zA-Z]{1,})?)"
                                                    oninput=" this.value = this.value.replace(/[0-9]/g,'')" 
                                                    name="userName" placeholder="Org Admin Full Name" requied formControlName="admin_name"[ngClass]="{ 'is-invalid': form1['admin_name'].touched&&form1['admin_name'].invalid|| firstFormSubmitted && form1['admin_name'].invalid }">
                                                        <label for="floatingInput" style="font-size: 0.8rem;    color: #9BA6AC;" class="form-label" i18n>Org Admin Full Name</label>
                                                      <div *ngIf="form1['admin_name'].touched&&form1['admin_name'].invalid || firstFormSubmitted && form1['admin_name'].invalid " class="invalid-feedback">
                                                        <div *ngIf="form1['admin_name'].errors?.['required']" i18n>
                                                            Mandatory field
                                                          </div>
                                                          <div *ngIf="form1['admin_name'].errors?.['pattern']" i18n>
                                                            Invalid name format. Please enter your full name
                                                          </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-md-6">
                                                <div class="form-floating mb-3">
                                                    <input type="text" class="form-control" id="userName1" style="height: 3rem;
                                                      color: #9BA6AC;" minlength="3"
                                                    oninput=" this.value = this.value.replace(/[0-9]/g,'')" 
                                                    name="userName" placeholder="Designation" required formControlName="designation" [ngClass]="{ 'is-invalid':form1['designation'].touched&&form1['designation'].invalid || firstFormSubmitted&&form1['designation'].invalid}">
                                                        <label for="floatingInput" style="font-size: 0.8rem;   color: #9BA6AC;" class="form-label" i18n>Designation</label>
                                                        <div *ngIf="form1['designation'].touched&&form1['designation'].invalid || firstFormSubmitted && form1['designation'].invalid " class="invalid-feedback">
                                                            <div *ngIf="form1['designation'].errors?.['required']" i18n>
                                                                Mandatory field
                                                              </div>
                                                              <div *ngIf="form1['designation'].errors?.['minlength']" i18n>
                                                                Enter full designation
                                                              </div>
                                                        </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row " >
                                            <div class="col-md-6">
                                                <div class="form-floating mb-3">
                                                    <input type="text" class="form-control" id="userName1" style="height: 3rem;   color: #9BA6AC;"
                                                    pattern="^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$"

                                                        name="userName" placeholder="Email Address" required formControlName="organization_email"  [ngClass]="{'is-invalid':form1['organization_email'].touched&&form1['organization_email'].invalid || firstFormSubmitted&&form1['organization_email'].invalid}">
                                                        <label for="floatingInput" style="font-size: 0.8rem;    color: #9BA6AC;" class="form-label" i18n>Email Address</label>

                                                        <div *ngIf="form1['organization_email'].touched&&form1['organization_email'].invalid || firstFormSubmitted && form1['organization_email'].invalid " class="invalid-feedback">
                                                            <div *ngIf="form1['organization_email'].errors?.['required']" i18n>
                                                                Mandatory field
                                                              </div>
                                                              <div *ngIf="form1['organization_email'].errors?.['pattern']" i18n>
                                                                Invalid email format. Please enter valid email format
                                                              </div>
                                                        </div>
                                                        
                                                </div>
                                            </div>
                                            <div class="col-md-6">
                                                <div class="form-floating mb-3">
                                                    <input oninput="this.value=this.value.slice(0,this.maxLength)" matInput maxlength="10" type="number" class="form-control" id="userName1" style=" height: 3rem; color: #9BA6AC;"
                                                        name="userName" placeholder="Mobile Number" required formControlName="organization_mobile" [ngClass]="{ 'is-invalid':form1['organization_mobile'].touched&&form1['organization_mobile'].invalid || firstFormSubmitted&&form1['organization_mobile'].invalid}">
                                                        <label for="floatingInput" style="font-size: 0.8rem ;   color: #9BA6AC;" class="form-label" i18n>Mobile Number</label>
                                                        <div *ngIf="form1['organization_mobile'].touched&&form1['organization_mobile'].invalid || firstFormSubmitted && form1['organization_mobile'].invalid " class="invalid-feedback">
                                                            <div *ngIf="form1['organization_mobile'].errors?.['required']" i18n>
                                                                Mandatory field
                                                              </div>
                                                              <div *ngIf="form1['organization_mobile'].errors?.['pattern']" i18n>
                                                                Invalid format. Please enter valid format
                                                              </div>
                                                        </div>
                                                        
                                                </div>
                                            </div>
                                        </div>
                                        <div style="padding-bottom:1rem">
                                            <h5 class="header-title" style="color: #AEB5BC;">No Sign-Up flow</h5>
                                            <div class="form-check form-switch" style=" display: grid;">
                                                <input type="checkbox"  class="form-check-input" id="customSwitch1" formControlName="is_web">
                                            </div>
                                        </div>
    
                                      
                                    </div> <!-- end col -->
                                </div> <!-- end row -->
                            </ng-template>
                        </li>
                        <li [ngbNavItem]="2">
                            <a [ngStyle]=" activeWizard1 > 2 ? ngstyle():null" ngbNavLink class="rounded-0 pt-2 pb-2"style="pointer-events: none;">
                                <span class="d-sm-inline">Org Details</span>
                            </a>
                            <ng-template ngbNavContent>
                                <div class="row" >
                                    <div class="col-12">
                                        <div class="row ">
                                            <div class="col-md-6">
                                                <div class="form-floating mb-3">

                                                    <select  style=" height: 3rem; color: #9BA6AC ; padding: 0 1rem;background:white;width:100%; background-color: #383E4A;
                                                    border: 1px solid #444C5B;" [(ngModel)]="countryList[0].name" formControlName="country">
                                                        <option value="" *ngFor="let c of countryList" [ngValue]='c.name'>  {{c.name}} </option>
                                                      </select>
                                                    <!-- <input type="text" class="form-control" id="userName1" style=" height: 3rem;color: #9BA6AC;   " minlength="3" list="codes"
                                                    oninput=" this.value = this.value.replace(/[0-9]/g,'')" 
                                                    name="userName" placeholder="Country" requied formControlName="country"[ngClass]="{ 'is-invalid': form1['country'].touched&&form1['country'].invalid ||secondFormSubmitted && form1['country'].invalid }">
                                                        <label for="floatingInput" style="font-size: 0.8rem;    color: #9BA6AC;" class="form-label" i18n>Country</label>

                                                        <datalist id="codes" style="background: white">
                                                            <option style="background-color: white;" *ngFor="let c of countryList" >
                                                              {{c.name}}
                                                            </option>
                                                          </datalist>


                                                      <div *ngIf="form1['country'].touched&&form1['country'].invalid ||secondFormSubmitted && form1['country'].invalid " class="invalid-feedback">
                                                        <div *ngIf="form1['country'].errors?.['required']" i18n>
                                                            Mandatory field
                                                          </div>
                                                          <div *ngIf="form1['country'].errors?.['minlength']" i18n>
                                                            Invalid name format. Please enter Country
                                                          </div>
                                                    </div> -->
                                                </div>
                                            </div>
                                           
                                            <div class="col-md-6">
                                                <div class="form-floating mb-3">
                                                    <input oninput="this.value=this.value.slice(0,this.maxLength)" matInput maxlength="6" type="number" class="form-control" id="userName1" style=" height: 3rem; color: #9BA6AC;"(input)="inputZip()"
                                                        name="userName" placeholder="Zip" required formControlName="zip" [ngClass]="{ 'is-invalid':form1['zip'].touched&&form1['zip'].invalid ||secondFormSubmitted&&form1['zip'].invalid}">
                                                        <label for="floatingInput" style="font-size: 0.8rem;   color: #9BA6AC;" class="form-label" i18n>Zip</label>
                                                        <div *ngIf="form1['zip'].touched&&form1['zip'].invalid ||secondFormSubmitted && form1['zip'].invalid " class="invalid-feedback">
                                                            <div *ngIf="form1['zip'].errors?.['required']" i18n>
                                                                Mandatory field
                                                              </div>
                                                              <div *ngIf="form1['zip'].errors?.['pattern']" i18n>
                                                                Invalid format. Please enter valid format
                                                              </div>
                                                        </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row " >
                                            <div class="col-md-6">
                                                <div class="form-floating mb-3">
                                                    <input type="text" class="form-control" id="userName1" style="height: 3rem;   color: #9BA6AC;" minlength="3"
                                                        name="userName" placeholder="State" required formControlName="state"  [ngClass]="{'is-invalid':form1['state'].touched&&form1['state'].invalid ||secondFormSubmitted &&form1['state'].invalid}">
                                                        <label for="floatingInput" style="font-size: 0.8rem;    color: #9BA6AC;" class="form-label" i18n>State</label>

                                                        <div *ngIf="form1['state'].touched&&form1['state'].invalid||secondFormSubmitted   && form1['state'].invalid " class="invalid-feedback">
                                                            <div *ngIf="form1['state'].errors?.['required']" i18n>
                                                                Mandatory field
                                                              </div>
                                                              <div *ngIf="form1['state'].errors?.['minlength']" i18n>
                                                                Please Enter State 
                                                              </div>
                                                        </div>
                                                        
                                                </div>
                                            </div>
                                            <div class="col-md-6">
                                                <div class="form-floating mb-3">
                                                    <input   type="text" class="form-control" id="userName1" style=" height: 3rem; color: #9BA6AC;" minlength="3"
                                                        name="userName" placeholder="City" required formControlName="city" [ngClass]="{ 'is-invalid':form1['city'].touched&&form1['city'].invalid ||secondFormSubmitted &&form1['city'].invalid}">
                                                        <label for="floatingInput" style="font-size: 0.8rem ;   color: #9BA6AC;" class="form-label" i18n>City</label>
                                                        <div *ngIf="form1['city'].touched&&form1['city'].invalid ||secondFormSubmitted  && form1['city'].invalid " class="invalid-feedback">
                                                            <div *ngIf="form1['city'].errors?.['required']" i18n>
                                                                Mandatory field
                                                              </div>
                                                              <div *ngIf="form1['city'].errors?.['minlength']" i18n>
                                                                 Please enter city
                                                              </div>
                                                        </div>
                                                        
                                                </div>
                                                   

                                            </div>
                                        </div>
                                        <div class="col-md">
                                            <div class="form-floating ">
                                                <input type="text"  class="form-control" id="userName1" style="    height: 3rem;
                                                   color: #9BA6AC;" minlength="5"
                                                   
                                                   oninput=" this.value = this.value.replace(/[0-9]/g,'')" 
                                                   name="userName" placeholder="Address" required formControlName="address"[ngClass]="{  'is-invalid':form1['address'].touched&&form1['address'].invalid||secondFormSubmitted  && form1['address'].invalid }">
                                                    <label for="floatingInput" style="font-size: 0.8rem;    color: #9BA6AC" class="form-label" i18n>Address</label>
                                                   <div *ngIf="form1['address'].touched&&form1['address'].invalid ||secondFormSubmitted  && form1['address'].invalid " class="invalid-feedback">
                                                        <div *ngIf="form1['address'].errors?.['required']" i18n>
                                                            Mandatory field
                                                          </div>
                                                          <div *ngIf="form1['address'].errors?.['minlength']" i18n>
                                                            Please enter your address
                                                          </div>
                                                    </div>

                                            </div>

                        


                                        </div>
    
                                      
                                    </div> <!-- end col -->
                                </div> <!-- end row -->
                            </ng-template>
                        </li>
                        <li [ngbNavItem]="3">
                            <a  [ngStyle]=" activeWizard1 > 3 ? ngstyle():null" style="pointer-events:none" ngbNavLink class="rounded-0 pt-2 pb-2">
                                <span class=" d-sm-inline">Org Settings</span>
                            </a>
                            <ng-template ngbNavContent>
                                    <div class="row grid-container2" style="    display: grid;
                                  ">
                                        <div >
                                            <h4 class="header-title" style="color: white;">Define Org URL</h4>
                                            <div class="row" style="display: grid;
                                            grid-template-columns: 1fr 1fr;">
                                            <div style="place-self: center;padding-right: 0;    color: #9BA6AC;">www.fedo.ai/admin/</div><input type="text" class="form-control" id="userName1" style=" color: #9BA6AC; height:3rem;
                                           "    minlength="3" maxlength="50" pattern="[A-Za-z]+"
                                                name="userName" placeholder="" required formControlName="url" [ngClass]="{'is-invalid':form1['url'].touched&& form1['url'].invalid || urlFormSubmitted&&form1['url'].invalid}">

                                                <div *ngIf="form1['url'].touched&& form1['url'].invalid || urlFormSubmitted && form1['url'].invalid " class="invalid-feedback">
                                                    <div *ngIf="form1['url'].errors?.['required']" i18n>
                                                        Mandatory field
                                                      </div>
                                                      <div *ngIf="form1['url'].errors?.['minlength']" i18n>
                                                        Invalid format. Please enter valid format
                                                      </div>
                                                      <div *ngIf="form1['url'].errors?.['pattern']" i18n>
                                                        Cannot contain spaces or special characters
                                                      </div>
                                                </div>

                                            </div>

                                        </div>
                                        
                                            <div class="card" style="background: #313844; padding:1rem;" *ngIf="srcImage!=='./assets/images/fedo-logo-white.png'">
                                                <div class="card mt-1 mb-0 shadow-none border" *ngIf="srcImage=='./assets/images/fedo-logo-white.png'">
                                                    <div  style="align-self: center;">
                                                        <div class="row align-items-center" style="    place-content: center;">
                                                        
                                                        <img src={{srcImage}} alt="" style="width: 15rem; height: 133px;border-radius: 5px;  border: 2px dashed #717386; margin-bottom: 1rem;" >
                                                    </div>
                                                    </div>
                                                    </div>
                                                    <div class="dropzone-previews" id="file-previews">
                                    
                                                        <div id="uploadPreviewTemplate" *ngFor="let f of files">
                                                            <div class="card mt-1 mb-0 shadow-none border">
                                                                <div style="align-self: center;">
                                                                    <div class="row align-items-center" style="    place-content: center;">
                                                                            <img class="avatar-sm rounded bg-light" [alt]="f.name" style="width: 15rem ;height: 133px;border-radius: 5px; border: 2px dashed #717386; margin-bottom: 1rem;"
                                                                                [src]="getPreviewUrl(f)">
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                    
                                                    <div  style="    display: flex;
                place-content: center;
                column-gap: 1rem;">
             <div class="col-xl-4.5 col-lg-5 col-md-5 col-sm-3"style="background: #3C424F; align-self: center;border-radius: 6px !important; height:5rem">
                    <ngx-dropzone (change)="onSelect($event)" class="dropzone" style="background: #3C424F; border: none; height: 0;   margin:0;
                    border-radius: 5px; overflow: hidden;padding-top: 1rem;"
                    accept="image/jpeg,image/jpg,image/png,image/gif">
                    <ngx-dropzone-label >
                        <i class="h1 text-muted dripicons-cloud-upload" style="font-size: x-large;"></i>
                        <p style="text-align: center; font-size: 13px; color:  #9BA6AC;">Upload Another</p>
       
                    </ngx-dropzone-label>
                </ngx-dropzone>
            </div>

                <div class="col-xl-3.5 col-lg-4 col-md-4 col-sm-2" style="background: #3C424F;    align-self: center; border-radius: 6px !important; height:5rem;padding-top: 0.3rem">
       
                        <a href="javascript:void(0)" class="btn btn-link btn-lg text-muted" style="padding: 0;display:inherit;    margin-bottom: 0.3rem;"
                        (click)="onRemove($event)">
                        <img src="./assets/images/Vector.png"  style="font-size: x-large;">
                    </a>
                    <p style="text-align: center; font-size: 13px;    margin-bottom: 18px; color: #9BA6AC;">Delete Logo</p>

                </div>
            </div>
                                            </div>

                                            <div style="    background: #3C424F;
                                            padding: 1.5rem;border-radius: 10px;"*ngIf="srcImage=='./assets/images/fedo-logo-white.png'">
                                                <ngx-dropzone (change)="onSelect($event)" class="dropzone" style="height: auto !important;    background: #313844;"
                                                accept="image/jpeg,image/jpg,image/png,image/gif">
                                                <ngx-dropzone-label>
                                                    <i class="h1 text-muted dripicons-cloud-upload" style="font-size: -webkit-xxx-large;"></i>
                                                    <h3 style="font-size: initial; color: #AEB5BD;   width: 9rem;">Drop files here or click to upload.</h3>
                                                </ngx-dropzone-label>
                        
                                            </ngx-dropzone>

                                            </div>
                            

                                    </div>
                                </ng-template>
                        </li>
                        <li [ngbNavItem]="4">
                            <a  [ngStyle]=" activeWizard1 > 4 ? ngstyle():null" style="pointer-events: none;" ngbNavLink class="rounded-0 pt-2 pb-2">
                                <span class=" d-sm-inline">Products</span>
                            </a>
                            <ng-template ngbNavContent>
                                    <div style="display: grid;
                                    grid-template-columns:repeat(auto-fill, minmax(8rem , 5fr));
                                    grid-gap: 1rem;margin-bottom: 2rem;">
                                         
                                                <ng-template ngFor let-season [ngForOf]="products" let-i=index>
                                                    <div class="gal-detail thumb" style=" width: 142px;
                                                    height: 180px;background: #3C424F;
                                                     border-radius: 8px; margin:0px">
                                                        <a href="javascript:void(0)" class="image-popup" title="hi">
                                                        </a>
                                    
                                                        <div style="    text-align: -webkit-center;
                                                        display: grid;
                                                        justify-items: center;
                                                        grid-gap: 1rem; margin-top: 0.5rem;">
                                                            <div class="avatar-md">
                                                                <span class="avatar-title bg-soft-secondary text-secondary font-20 rounded-circle">
                                                                    F{{season.product_name.charAt(0).toUpperCase()}}
                                                                </span>
                                                            </div>
                                                            <p class="text-muted mb-1">Fedo {{season.product_name === 'vitals' ? 'Vitals' : season.product_name.toUpperCase()}}</p>
                                                            <div class="form-check form-switch" style=" display: grid;justify-items: center;">
                                                                <input type="checkbox" formControlName="{{season.product_name}}" (change)="demoFunction($event,season)" class="form-check-input" id="customSwitch1">
                                                            </div>
                                                        </div>
                                                    </div>
                                                </ng-template>
                                    </div>
                                </ng-template>
                        </li>


                        <ng-template ngFor let-season [ngForOf]="listdetails" let-i=index>                        
                            <li [ngbNavItem]="4+(i+1)">
                            <a  [ngStyle]=" activeWizard1>4+(i+1) ? ngstyle() : null" style="pointer-events: none;" ngbNavLink class="rounded-0 pt-2 pb-2">
                                <span style = 'text-transform: capitalize;'class="d-sm-inline">Config {{season.name === 'vitals' ? 'Vitals' : season.name.toUpperCase() }}</span>
                            </a>
                            <ng-template ngbNavContent>
                                    <div class="row grid-container" >
                                        <div  >
                                            <div class="card">
                                                <div class="card-body" style="padding-left: 0;padding-bottom:0">
                                                    <h4 class="header-title" style="color: #AEB5BC;">Specify Pilot Duration (Days):</h4>
                                                    <ngx-slider [value]="35" [(ngModel)]="season.pilot_duration" [ngModelOptions]="{standalone: true}"
                                                        [options]="{
                                                            floor: 0,
                                                            ceil: 90
                                                        }"></ngx-slider>

                                                        <div *ngIf="season.pilot_duration==0&&season.pressed" style="color:  #F08F8F;">
                                                            Mandatory field
                                                          </div>


                                                </div> <!-- end card-body -->
                                            </div> <!-- end card-->
                                            <!-- <div style="padding-bottom:1rem">
                                                <h4 class="header-title" style="color: #AEB5BC;">Enable Fedo Score:</h4>
                                                <div class="form-check form-switch" style=" display: grid;">
                                                    <input type="checkbox"  class="form-check-input" [(ngModel)]="season.fedo_score" [ngModelOptions]="{standalone: true}" id="customSwitch1">
                                                </div>
                                            </div> -->
                                            <div *ngIf="season.name === 'vitals'" >
                                                <div style="padding-bottom:1rem">
                                                    <h4 class="header-title" style="color: #AEB5BC;">Enable Event Mode:</h4>
                                                    <div class="form-check form-switch" style=" display: grid;">
                                                        <input type="checkbox"  class="form-check-input"(change)="eventmode($event,season.name)" [(ngModel)]="season.event" [ngModelOptions]="{standalone: true}" id="customSwitch1">
                                                    </div>
                                                </div>
                                                <div class="mb-3" *ngIf="season.event_mode!=0"  >
                                                    <h4 class="header-title" style="color: #AEB5BC;">Event Mode Ends With:</h4>
                                                    <div style="display: grid; grid-template-columns: max-content max-content;grid-gap:1rem">
                                                        <div >
                                              <input type="radio" class="form-check-input" id="customRadio1" (click)="setEventMode($event,season.name,1)"[checked]="season.event_mode==1"   />
                                              <label class="form-check-label" for="customRadio1">&nbsp;Thank You Popup</label>
                                            </div>
                                            <div >
                                              <input type="radio" class="form-check-input" id="customRadio2" (click)="setEventMode($event,season.name,2)"  [checked]="season.event_mode==2"   />
                                              <label class="form-check-label" for="customRadio1"
                                                >&nbsp;Vitals Dashboard</label>
                                            </div>
                                            <div *ngIf="season.pressed&&validation" style="color:  #F08F8F;">
                                                Mandatory field
                                              </div>


                                                    </div>
                                      </div>
                                            </div>
                                        </div>
                                        <div class="card-body" style="padding: 0;margin-top:1.5rem;    margin-left: 1rem;" >
                                            <div style="padding-bottom:1rem">
                                                <h4 class="header-title" style="color: #AEB5BC;">Enable Fedo Score:</h4>
                                                <div class="form-check form-switch" style=" display: grid;">
                                                    <input type="checkbox"  class="form-check-input" [(ngModel)]="season.fedo_score" [ngModelOptions]="{standalone: true}" id="customSwitch1">
                                                </div>
                                            </div>
                                            <div  *ngIf="season.name ==='vitals'">
                                                <div style="margin-bottom:1rem;"    >
                                                    <h4 class="header-title" style="color: #AEB5BC;">Enable Apps:</h4>
                                                    <div style="    display: grid;
                                                    grid-template-columns: max-content max-content max-content;
                                                    grid-gap: 1rem;
                                                    color: #AEB5BC;">
                                                        <div class="form-check mb-2 form-check-primary">
                                                            <input class="form-check-input" type="checkbox" [(ngModel)]="season.productaccess_mobile" [ngModelOptions]="{standalone: true}"  value="0" id="customckeck1" checked>
                                                            <label class="form-check-label" for="customckeck1">Android</label>
                                                        </div>
                                                        <div class="form-check mb-2 form-check-primary">
                                                            <input class="form-check-input" type="checkbox" [(ngModel)]="season.ios_access" [ngModelOptions]="{standalone: true}"  value="" id="customckeck1" checked>
                                                            <label class="form-check-label" for="customckeck1">iOS</label>
                                                        </div>
                                                        <div class="form-check mb-2 form-check-primary">
                                                            <input class="form-check-input" type="checkbox" [(ngModel)]="season.productaccess_web" [ngModelOptions]="{standalone: true}"  value="" id="customckeck1" checked>
                                                            <label class="form-check-label" for="customckeck1">WebApp</label>
                                                        </div>
                                                    </div>
                                                </div>

                                            <!-- <div style="margin-bottom: 1rem;">
                                                <h4 class="header-title" style="color: #AEB5BC;margin:0">Limit Scans</h4>
                                                <div class="form-check form-switch" style=" display: grid;">
                                                    <input type="checkbox"  class="form-check-input" [(ngModel)]="season.limitScans" [ngModelOptions]="{standalone: true}" id="customSwitch1">
                                                </div>
                                            </div>
                                            <div *ngIf="season.limitScans" style="display: grid;grid-template-columns: 1fr 1fr;grid-gap:1rem">
                                                <div class="">
                                                    <div class="form-floating mb-3">
                                                        <input oninput="this.value=this.value.slice(0,this.maxLength)" matInput maxlength="10" type="number" class="form-control" id="userName1" style=" height: 3rem; color: #9BA6AC;"
                                                            name="userName" placeholder="Limit Scans" required [(ngModel)]="season.scans" [ngModelOptions]="{standalone: true}" [ngClass]="{ 'is-invalid':form1['organization_mobile'].touched&&form1['organization_mobile'].invalid ||basicForm.submitted&&form1['organization_mobile'].invalid}">
                                                            <label for="floatingInput" style="font-size: 0.8rem ;   color: #9BA6AC;" class="form-label" i18n>Limit Scans</label>
                                                            <div *ngIf="form1['organization_mobile'].touched&&form1['organization_mobile'].invalid ||basicForm.submitted && form1['organization_mobile'].invalid " class="invalid-feedback">
                                                                <div *ngIf="form1['organization_mobile'].errors?.['required']" i18n>
                                                                    Mandatory field
                                                                  </div>
                                                                  <div *ngIf="form1['organization_mobile'].errors?.['pattern']" i18n>
                                                                    Invalid format. Please enter valid format
                                                                  </div>
                                                            </div>
                                                            
                                                    </div>
                                                </div>
                                                <div class="mb-3" >
                                                    <div class="form-check">
                                                      <input type="radio" id="customRadio1" name="customRadio" (change)="change()" [checked]="notThirdParty"  class="form-check-input" />
                                                      <label class="form-check-label" for="customRadio1">Per Month</label>
                                                    </div>
                                                    <div class="form-check">
                                                      <input type="radio" id="customRadio2" name="customRadio" (change)="change()" [checked]="thirdParty"  class="form-check-input" />
                                                      <label class="form-check-label" for="customRadio1"
                                                        >In Total</label
                                                      >
                                                    </div>
                                                    <div *ngIf="formSubmitted && thirdParty==false&& notThirdParty==false" style="width: 100%;
                                                    margin-top: 0.25rem;
                                                    font-size: 0.75rem;
                                                    color: #F08F8F;">
            
                                                              Mandatory field
                                                            
                                                          </div>
            
                                                          
                                                  </div>

                                            </div> -->
                                            </div>

                                        </div>

                                    </div>
                                </ng-template>
                        </li>
                        </ng-template>

                        <li [ngbNavItem]="list">
                            <a [ngStyle]=" list == activeWizard1 ? ngstyle():null" ngbNavLink class="rounded-0 pt-2 pb-2" style="pointer-events: none">
                                <span class="d-sm-inline">Finish</span>
                            </a>
                            <ng-template ngbNavContent>
                                <div class="row">
                                    <div class="col-12">
                                        <div class="text-center">
                                            <h2 class="mt-0"><i class="mdi mdi-check-all" style="color: #fff;"></i></h2>
                                            <h3 class="mt-0" style="color: #fff;">Success !</h3>
    
                                            <p class="w-75 mb-2 mx-auto" style="color: #AEB5BC;">You have successfully created the Organisation <b>{{org_name}}</b>. An invitaton email has already been sent to the Org Admin.
                                                 You may inform the Org Admin to check mail and follow instructions to sign up and start Pilot.</p>
                                        </div>
                                    </div>
                                </div> 
                            </ng-template>
                            
                        </li>
                    </ul>
    
                    <div [ngbNavOutlet]="basicWizard" class="b-0 mb-0 pt-0"></div>
                    <ul class="list-inline mb-0 wizard" style="margin-top:1rem" >
                        <div *ngIf="showLiveAlert" class="mb-3" style="width: 100%;
                                        margin-top: 0.25rem;
                                        font-size: 0.75rem;
                                        color: #F08F8F;">
                                                  {{errorMessage}}      
                                              </div>
                                              <div id="liveAlertPlaceholder">
                                                <ngb-alert type="warning" *ngIf="showLiveAlertAPI" (closed)="showLiveAlertAPI = false">{{errorMessageAPI}}</ngb-alert>
                                            </div>
                        <li class="previous list-inline-item" *ngIf="!(activeWizard1 == list)">
                            <button style="width: 100px;" class="btn btn-secondary" (click)="activeWizard1=activeWizard1-1" *ngIf="activeWizard1 !== list"
                                [disabled]="activeWizard1===1">Previous</button>
                        </li>
                        <li class="next " style="text-align: center;" *ngIf="activeWizard1 == list">
                            <button style="width: 100px;" type="button" class="btn btn-info" (click)="modal.dismiss('');basicWizardForm.reset();list=4;listdetails=[];reloadCurrentPage()"
                                >Close</button>
                        </li>
                        <li class="next list-inline-item float-end" *ngIf="!(activeWizard1 == list)">
                            <button style="width: 100px;" type="button" (click)="fetchData()" class="btn btn-info" 
                                *ngIf="activeWizard1<list-1">Next</button>
                            <button style="width: 100px;" type="submit" class="btn btn-info" (click)="fetchData()"
                                *ngIf="activeWizard1!=4&&activeWizard1 == list-1">Submit</button>
                        </li>
                    </ul>
    
    
    
                </div> <!-- end #basicwizard-->
            </form>
    
        </div> <!-- end card-body -->
    </div> <!-- end card-->
</ng-template>
<ng-template #toggleModal2 let-modal>
    <div class="card" style="background-color: #282E38;margin-bottom: 0;">
        <div class="card-body" style="    background-color: #282E38;min-width: min-content;">
            <div class=" float-end" ngbDropdown placement="bottom-end">
                <a href="javascript:void(0)" class="dropdown-toggle arrow-none card-drop" (click)="modal.dismiss('');basicWizardForm.reset();list=3;reloadCurrentPage()" ngbDropdownToggle>
                    <i class="mdi mdi-close"></i>
                </a>
            </div>            
            <h4 style="color: white;">Create User</h4>
    
            <form class="needs-validation" [formGroup]="userForm" #basicForm="ngForm">
                <div id="basicwizard">
                    <ul ngbNav #basicWizard="ngbNav" [(activeId)]="activeWizard2"
                        class="nav-pills nav-justified form-wizard-header mb-4" style="display: grid;
                        grid-template-columns: repeat(auto-fill, minmax(7rem , 5fr)); background-color: #313844;">
                        <li [ngbNavItem]="1">
                            <a [ngStyle]=" activeWizard2 > 1 ? ngstyle():null" ngbNavLink class="rounded-0 pt-2 pb-2">
                                <span class=" d-sm-inline">User Details</span>
                            </a>
                            <ng-template ngbNavContent>
                                <div class="row" >
                                    <div class="col-12">
                                        <div class="row ">
                                            <div class="col-md-6">
                                                <div class="form-floating mb-3">
                                                    <input type="text" class="form-control" id="userName1" style=" height: 3rem; color: #9BA6AC"
                                                    oninput=" this.value = this.value.replace(/[0-9]/g,'')" 
                                                    pattern="^([a-zA-Z]{2,}\s[a-zA-Z]{1,}'?-?[a-zA-Z]{2,}\s?([a-zA-Z]{1,})?)"
                                                    [ngClass]="{'is-invalid':userForm.controls['user_name'].touched && userForm.controls['user_name'].invalid || formSubmitted && userForm.controls['user_name'].invalid}"
                                                    
                                                        name="userName" placeholder="User Full Name" required formControlName="user_name">
                                                        <label for="floatingInput" style="font-size: 0.8rem;color: #9BA6AC" class="form-label" i18n>User Full Name</label>
                                                    <div *ngIf="userForm.controls['user_name'].touched && userForm.controls['user_name'].invalid ||formSubmitted && userForm.controls['user_name'].invalid" class="invalid-feedback">

                                                        <div *ngIf="userForm.controls['user_name'].errors?.['required']" i18n>
                                                          Mandatory field
                                                        </div>
                                                        <div *ngIf="userForm.controls['user_name'].errors?.['pattern']" i18n>
                                                          Invalid name format. Please enter your full name
                                                        </div>
                                                      </div>
                                            
                                                    

                                                    </div>
                                                  
                                            </div>
                                            <div class="col-md-6">
                                                <div class="form-floating mb-3">
                                                    <input type="text" class="form-control" id="userName1" style="  height: 3rem;
                                                    color: #9BA6AC" formControlName="designation" minlength="3"
                                                    oninput=" this.value = this.value.replace(/[0-9]/g,'')" 
                                                    [ngClass]="{'is-invalid':userForm.controls['designation'].touched && userForm.controls['designation'].invalid || formSubmitted && userForm.controls['designation'].invalid}"

                                                        name="userName" placeholder="Designation" required>
                                                    <label for="floatingInput" style="font-size: 0.8rem;color: #9BA6AC" class="form-label" i18n>Designation</label>
                                                        <div *ngIf="userForm.controls['designation'].touched && userForm.controls['designation'].invalid || formSubmitted && userForm.controls['designation'].invalid" class="invalid-feedback">

                                                            <div *ngIf="userForm.controls['designation'].errors?.['required']" i18n>
                                                              Mandatory field
                                                            </div>
                                                            <div *ngIf="userForm.controls['designation'].errors?.['minlength']" i18n>
                                                              Enter full designation
                                                            </div>
                                                </div>
                                                    </div>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-md-6">
                                                <div class="form-floating mb-3">
                                                    <input type="text" class="form-control" id="userName1" style=" height: 3rem;color: #9BA6AC"
                                                        name="userName" placeholder="Email Address" required formControlName="email"
                                                        pattern="^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$"
                                                    [ngClass]="{'is-invalid':userForm.controls['email'].touched && userForm.controls['email'].invalid || formSubmitted && userForm.controls['email'].invalid}">
                                                    <label for="floatingInput" style="font-size: 0.8rem;color: #9BA6AC" class="form-label" i18n>Email Address</label>
                                                <div *ngIf="userForm.controls['email'].touched && userForm.controls['email'].invalid || formSubmitted && userForm.controls['email'].invalid" class="invalid-feedback">

                                                    <div *ngIf="userForm.controls['email'].errors?.['required']" i18n>
                                                      Mandatory field
                                                    </div>
                                                    <div *ngIf="userForm.controls['email'].errors?.['pattern']" i18n>
                                                      Invalid email format. Please enter valid email format
                                                    </div>
                                                  </div>
                                                </div>
                                            </div>
                                            <div class="col-md-6">
                                                <div class="form-floating mb-3">
                                                    <input oninput="this.value=this.value.slice(0,this.maxLength)" matInput maxlength="10"  type="number" class="form-control" id="userName1" style=" height: 3rem;color: #9BA6AC"
                                                        name="userName" placeholder="Mobile Number" formControlName="mobile"  
                                                    [ngClass]="{'is-invalid':userForm.controls['mobile'].touched && userForm.controls['mobile'].invalid || formSubmitted && userForm.controls['mobile'].invalid}">
                                                 <label for="floatingInput" style="font-size: 0.8rem;color: #9BA6AC" class="form-label" i18n>Mobile Number</label>
                                            <div *ngIf="userForm.controls['mobile'].touched && userForm.controls['mobile'].invalid || formSubmitted && userForm.controls['mobile'].invalid" class="invalid-feedback">

                                                <div *ngIf="userForm.controls['mobile'].errors?.['required']" i18n>
                                                  Mandatory field
                                                </div>
                                                <div *ngIf="userForm.controls['mobile'].errors?.['pattern']" i18n>
                                                  Invalid format. Please enter valid format
                                                </div>
                                              </div>

                                                    </div>
                                            </div>
                                        </div>
                                        <div class="mb-3" style="display: grid; grid-template-columns: auto auto" >
                                        <div class="form-check">
                                          <input type="radio" id="customRadio1" name="customRadio" (change)="change(false)" [checked]="notThirdParty"  class="form-check-input" />
                                          <label class="form-check-label" for="customRadio1">Own Employee</label>
                                        </div>
                                        <div class="form-check">
                                          <input type="radio" id="customRadio2" name="customRadio" (change)="change(true)" [checked]="thirdParty"  class="form-check-input" />
                                          <label class="form-check-label" for="customRadio1"
                                            >Employee of TPA</label
                                          >
                                        </div>
                                        <div *ngIf="formSubmitted && thirdParty==false&& notThirdParty==false" style="width: 100%;
                                        margin-top: 0.25rem;
                                        font-size: 0.75rem;
                                        color: #F08F8F;">

                                                  Mandatory field
                                                
                                              </div>

                                              
                                      </div>
                                      <div class="form-floating " style="display: flex; padding-bottom: 1rem; " *ngIf="thirdParty == true" >
                                        <input type="text" class="form-control" (input)="inputTpa()" id="userName1" style="
                                            background: #383e4a;
                                            border: 1px solid #444c5b;color: #9BA6AC;
                                            border-radius: 4px;" name="userName" required placeholder="Select third-party Company or Add New" formControlName="third_party_org_name" list="codes" minlength="3"  />
                                            <label for="floatingInput" style="font-size: 0.8rem;color: #9BA6AC" class="form-label" i18n>Select third-party Company or Add New</label>
                  
                                        <datalist id="codes" style="background: white">
                                          <option *ngFor="let c of codeList" >
                                            {{ c }}
                                          </option>
                                        </datalist>
                                        <button *ngIf="showButton&&addTpafunc==false&&changeButton && userForm.controls['third_party_org_name'].value.length>=3" (click)="addTpa()" id="erase" style="
                                            background: #383e4a;
                                            height: 3..6rem;
                                            border: 1px solid #444c5b;
                                            border-radius: 4px;
                                            color: grey;
                                            padding-right: 0.5rem;
                                            padding-left: 0.5rem;">+</button>


                                            <button *ngIf="addTpafunc" class="mdi mdi-check-all" id="erase" style="
                                            background: #084b23;
                                            height: 3..6rem;
                                            border: 1px solid #444c5b;
                                            border-radius: 4px;
                                            color: grey;
                                            padding-right: 0.5rem;
                                            padding-left: 0.5rem;"></button>
                                      </div>
                                      <div class="mb-3" *ngIf="userForm.controls['third_party_org_name']?.touched && thirdParty==true" style="width: 100%;
                                        font-size: 0.75rem;
                                        color: #F08F8F;">

                                                  <div *ngIf=" userForm.controls['third_party_org_name'].errors?.['minlength']" i18n>
                                                    Enter full Third Party Name
                                                  </div>
                                                  
                                              </div>
                                              <div class="mb-3" *ngIf="showLiveAlertNextButton" style="width: 100%;
                                              font-size: 0.75rem;
                                              color: #F08F8F;">
      
                                                        {{errorMessageNextButton}}
                                                      
                                                    </div>
    
                                                    <div style="padding-bottom:1rem">
                                                        <h5 class="header-title" style="color: #AEB5BC;">No Sign-Up flow</h5>
                                                        <div class="form-check form-switch" style=" display: grid;">
                                                            <input type="checkbox"  class="form-check-input" id="customSwitch1" formControlName="is_web">
                                                        </div>
                                                    </div>
                                      
                                    </div> <!-- end col -->
                                </div> <!-- end row -->
                            </ng-template>
                        </li>
                        <li [ngbNavItem]="2">
                            <a [ngStyle]=" activeWizard2 > 2 ? ngstyle():null" style="pointer-events:none" ngbNavLink class="rounded-0 pt-2 pb-2">
                                <span class=" d-sm-inline">Products</span>
                            </a>

                                          <ng-template ngbNavContent>
                                            <div style="display: grid;
                                            grid-template-columns:repeat(auto-fill, minmax(8rem , 5fr));
                                            grid-gap: 1rem;margin-bottom: 2rem;">
                                                        <ng-template ngFor let-season [ngForOf]="userProduct" let-i=index>
                                                            <div class="gal-detail thumb" style="    width: 142px;
                                                            height: 180px;
                                                            background: #3C424F;
                                                            border-radius: 8px; margin:0px">
                                                                <a href="javascript:void(0)" class="image-popup" title="hi">
                                                                </a>
                                                            
                                                                <div style="    text-align: -webkit-center;
                                                                display: grid;
                                                                justify-items: center;
                                                                grid-gap: 1rem; margin-top: 0.5rem;">
                                                                    <div class="avatar-md">
                                                                        <span class="avatar-title bg-soft-secondary text-secondary font-20 rounded-circle">
                                                                            F{{season.product_name.charAt(0)}}
                                                                        </span>
                                                                    </div>
                                                                    <p class="text-muted mb-1">Fedo {{season.product_name}}</p>
                                                                    <div class="form-check form-switch" style=" display: grid;justify-items: center;">
                                                                        <input type="checkbox"  (change)="updateUserProd($event,season)" class="form-check-input" id="customSwitch1">
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </ng-template>
                                            </div>
                                        </ng-template>
                                         
                        </li>

                        <li [ngbNavItem]="3">
                            <a style="pointer-events: none;" ngbNavLink class="rounded-0 pt-2 pb-2">
                                <span class="d-sm-inline">Finish</span>
                            </a>
                            <ng-template ngbNavContent>
                                <div class="row">
                                    <div class="col-12">
                                        <div class="text-center">
                                            <h2 class="mt-0"><i class="mdi mdi-check-all" style="color: #fff;"></i></h2>
                                            <h3 class="mt-0" style="color: #fff;">Success !</h3>
    
                                            <p style="color: #AEB5BC;" class="w-75 mb-2 mx-auto">You have successfully created the User <b>{{user_name}}</b>. An invitaton email has already been sent to the User.
                                                You may inform the User to check mail and follow instructions to sign up and start Pilot.</p>
                                        </div>
                                    </div>
                                </div> 
                            </ng-template>
                            
                        </li>
                    </ul>
    
                    <div [ngbNavOutlet]="basicWizard" class="b-0 mb-0 pt-0"></div>
                    <ul class="list-inline mb-0 wizard" >
                        <div id="liveAlertPlaceholder">
                            <ngb-alert type="warning" *ngIf="showLiveAlertAPI" (closed)="showLiveAlertAPI = false">{{errorMessageAPI}}</ngb-alert>
                        </div>
                        <li class="previous list-inline-item" *ngIf="!(activeWizard2 == list)">
                            <button class="btn btn-secondary" (click)="activeWizard2=1" *ngIf="activeWizard2 !== 3"
                                [disabled]="activeWizard2===1">Previous</button>
                        </li>
                        <li class="next " style="text-align: center;" *ngIf="activeWizard2 == 3">
                            <div style="    display: grid;
                            grid-template-columns: min-content max-content;
                            justify-content: center;
                            grid-gap: 0.5rem;">
                                <button style="width: 6rem;" type="button" class="btn btn-secondary" (click)="modal.dismiss('');userForm.reset();reloadCurrentPage()"
                                    >Close</button>
                                <button type="button" class="btn btn-info" (click)="created=false;activeWizard2=1;selectedUserProducts=[];userForm.reset();showLiveAlert=false;userForm.controls['org_id'].setValue(organaization_id);showLiveAlertNextButton=false;formSubmitted=false; notThirdParty=false; thirdParty=false; addTpafunc=false; showLiveAlertNextButton=false;showLiveAlertAPI=false"
                                    >Add Another User</button>
                            </div>
                        </li>
                        <li class="next list-inline-item float-end" *ngIf="!(activeWizard2 == 3)">
                            <button type="button" style="width: 100px;" (click)="  checkUserFirstForm()" class="btn btn-info" 
                                *ngIf=" activeWizard2==1">Next</button>
                            <button type="button" style="width: 100px;" class="btn btn-info" (click)="checkingUserForm()" 
                                *ngIf="activeWizard2==2&&selectedUserProducts.length!==0">Submit</button>
                        </li>
                    </ul>
    
    
    
                </div> <!-- end #basicwizard-->
            </form>
    
        </div> <!-- end card-body -->
    </div> <!-- end card-->
</ng-template>

<div class="row">
    <div class="col-xl-3 col-md-6">
        <div class="card" style="background: #313844;;" >
            <div class="card-body widget-user">
                <div class="float-end" ngbDropdown placement="bottom-end">
                    <a href="javascript:void(0);" class="arrow-none card-drop" ngbDropdownToggle>
                        <i class="mdi mdi-dots-vertical"></i>
                    </a>
                    <div ngbDropdownMenu>
                        <a href="javascript:void(0);" [routerLink]="['/orgList']" ngbDropdownItem>View List</a>
                    </div>
                </div>
                <div class="text-center">
                    <h2 class="fw-normal" style="color: #82B4F3;">{{organisationCount}}</h2>
                    <h5 style="color: #ADB5BD;">Organisations</h5>
                </div>
            </div>
        </div>
    </div>
    <ng-template ngFor let-season [ngForOf]="widgetCounts" let-i=index> 
    <div class="col-xl-3 col-md-6">
        <div class="card" style="background: #313844;;" >
            <div class="card-body widget-user">
                <div class="float-end" ngbDropdown placement="bottom-end">
                    <a href="javascript:void(0);" class="arrow-none card-drop" ngbDropdownToggle>
                        <i class="mdi mdi-dots-vertical"></i>
                    </a>
                    <div ngbDropdownMenu>
                        <a href="javascript:void(0);" [routerLink]="'/vitalsList/'+season.id" ngbDropdownItem>View List</a>
                    </div>
                </div>
                <div class="text-center">
                    <h2 class="fw-normal" [ngStyle]="{'color': season.color}" >{{season.count}}</h2>
                    <h5 style="color: #ADB5BD;">{{season.name}} Pilots</h5>
                </div>
            </div>
        </div>
    </div>
</ng-template>
</div>

    <div class="card" style="background: #313844;">
        <div class="card-body">
            <div class=" float-end" ngbDropdown placement="bottom-end">
                <a href="javascript:void(0)" class="dropdown-toggle arrow-none card-drop" ngbDropdownToggle>
                    <i class="mdi mdi-dots-vertical"></i>
                </a>
                <div style="    border: 1px solid #4B515F;" ngbDropdownMenu>
                    <a href="javascript:void(0);" (click)="open(toggleModal1) ;clearform()" ngbDropdownItem>Create Org</a>
                    <a href="javascript:void(0);" [routerLink]="['/orgList']"  ngbDropdownItem>Org List</a>

                </div>
            </div>            
            <div class=" float-end" ngbDropdown placement="bottom-end">
                <a href="javascript:void(0)" (click)="open(toggleModal1);clearform();" class="dropdown-toggle arrow-none card-drop" ngbDropdownToggle>
                    <i class="mdi mdi-plus"></i>
                </a>
            </div>            
            <h4 class="mt-0 header-title"  style="color: white;">Recent 5 Organisations</h4>
 
            <div class="table-responsive" >
                <table class="table advanced-table table-nowrap mb-0">
                    <thead style=" font-weight: 700;   color: #9BA6AC;     border-color: #9BA6AC;">
                        <tr  style="border-color: #49565d;" >
                            <th>#</th>
                            <th></th>
                            <th>Org Name</th>
                            <th>Pilots</th>
                            <th style="    text-align: -webkit-center;">Total Users</th>
                            <th style="    text-align: -webkit-center;">Total Tests</th>
                            <th></th>
                        </tr>
                    </thead>
                    <tbody style=" font-weight: 400;  color: #9BA6AC;    border-color: #49565d;">
                        <tr class="over-hover" style="border-color: #49565d;"  *ngFor="let person of tabDAta;let indexOfelement=index;">
                            <th scope="row">{{indexOfelement+1}}</th>
                            <td *ngIf="person.is_deleted===false"><img src="./assets/images/User Status - Active.png"></td>
                        <td *ngIf="person.is_deleted===true"><img src="./assets/images/User Status - Inactive.png"></td>
                            <td [routerLink]="['/orgdetails', person.id]" href="javascript:void(0);" style="cursor: pointer;">{{person.organization_name}}</td>
                            <td [routerLink]="['/orgdetails', person.id]" href="javascript:void(0);" style="cursor: pointer;">
                                <div style="    display: grid;
                                grid-template-columns: 1fr 1fr 1fr;
                                grid-gap: 1rem;">
                                    <ng-template ngFor let-season [ngForOf]="person.product" let-i=index>      
                                        <div class="">
                                            <div class=" ">
                                                Fedo {{season.product_id === '1' ? 'HSA' : (season.product_id === '2' ? 'Vitals':'RUW' )}} (<span *ngIf="person.is_deleted===false&&season.status =='Expired'" style="color: #F08F8F;">{{season.status}}</span><span *ngIf="person.is_deleted===false&&season.status =='Active'" style="color: green;">{{season.status}}</span><span *ngIf="person.is_deleted===true" style="color: #F08F8F;">Inactive</span>)
                                                <ngb-progressbar style="margin-top: 0;"  [type]="(season.status =='Expired' ) ? 'danger':'warning'" [value]="(season.status =='Expired' ) ? 100 :(season.pilot_duration-daysLefts(season.end_date) < 0? 0 : season.pilot_duration-daysLefts(season.end_date))" [max]=" (season.status =='Expired' ) ? 100:season.pilot_duration" class=" progress-bar-alt-warning progress-sm"></ngb-progressbar>
                                            </div>
                                        </div>
                                    </ng-template>
                                </div>


                            </td> 
                            <td [routerLink]="['/orgdetails', person.id]" href="javascript:void(0);" style="cursor: pointer;    text-align: -webkit-center;">{{person.total_users}}</td>
                            <td [routerLink]="['/orgdetails', person.id]" href="javascript:void(0);" style=" cursor: pointer;text-align: -webkit-center;color: #82B4F3;">{{person.total_tests}}</td>
                            <td class="option">                <div class="float-end "  ngbDropdown placement="bottom-end">
                                <a href="javascript:void(0);" class="dropdown-toggle arrow-none card-drop" ngbDropdownToggle>
                                    <i class="mdi mdi-dots-vertical"></i>
                                </a>
                                <div style="    border: 1px solid #4B515F;" class="kanban_style" ngbDropdownMenu>
                                    <a  [routerLink]="['/orgdetails', person.id]" href="javascript:void(0);" ngbDropdownItem>Org Info</a>
                                    <a href="javascript:void(0);" (click)="openUserForm(toggleModal2); setValue(person)" ngbDropdownItem>Create Users</a>
                                    <a [routerLink]="['/userdetails', person.id]" href="javascript:void(0);" ngbDropdownItem>Users List</a>
                                    <div style="display: flex;
                                    align-items: center;"><div style="display: flex;" *ngIf="person.is_deleted===false" href="javascript:void(0);"  ngbDropdownItem>Status (<span style="color: green;">Active</span> / Inactive)
                                        
                                </div>
                                    <div *ngIf="person.is_deleted===true" href="javascript:void(0);"  ngbDropdownItem>Status (Active / <span style="color:red;">Inactive</span>)
                                    </div>
                                    <div class="form-check form-switch" >
                                        <input type="checkbox" [(ngModel)]="!person.is_deleted" [ngModelOptions]="{standalone: true}" class="form-check-input" (ngModelChange)="updateStatus($event,person)"  id="customSwitch1">
                                </div>
                            </div>
                            <div *ngIf="person.is_register===false" href="javascript:void(0);" style="cursor: pointer;" (click)="resendInvitationMail(person)"  ngbDropdownItem>Resend Invitation

                            </div>
                                </div>
                                
                            </div></td>
                        </tr>

                     
                    </tbody>
                </table>
            </div>
        </div>

    </div>