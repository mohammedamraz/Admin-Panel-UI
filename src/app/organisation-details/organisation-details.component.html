<div id="liveAlertPlaceholder" style="           position: fixed;
z-index: 9999;
display: block;
width: -webkit-fill-available;
padding: 10px;
margin-top: 15px;
padding-top:10px">
    <ngb-alert style = 'background: #0fba64;'type="success" *ngIf="showLiveAlertResendInvitation" (closed)="showLiveAlertResendInvitation = false"><span style="color: white;">{{errorMessageResendInvitation}}</span></ngb-alert>
</div>
<ng-template #toggleModal3 let-modal>
    <div class="card" style="background-color: #282E38;margin-bottom: 0;">
        <div class="card-body" style="    background-color: #282E38;min-width: min-content;">
            <div class=" float-end" ngbDropdown placement="bottom-end">
                <a href="javascript:void(0)" class="dropdown-toggle arrow-none card-drop" (click)="modal.dismiss('');basicWizardForm.reset();list=3;reloadCurrentPage()" ngbDropdownToggle>
                    <i class="mdi mdi-close"></i>
                </a>
            </div>   

            <h4 style="color: white;">Create User</h4>
    
            <form [formGroup]="userForm" #basicForm="ngForm">
                <div id="basicwizard">
                    <ul ngbNav #basicWizard="ngbNav" [(activeId)]="activeWizard1"
                        class="nav-pills nav-justified form-wizard-header mb-4" style="display: grid;
                        grid-template-columns: repeat(auto-fill, minmax(7rem , 5fr)); background-color: #313844;">
                        <li [ngbNavItem]="1">
                            <a [ngStyle]=" activeWizard1>1 ? ngstyle():null" ngbNavLink class="rounded-0 pt-2 pb-2">
                                <span class=" d-sm-inline">User Details</span>
                            </a>
                            <ng-template ngbNavContent>
                                <div class="row" >
                                    <div class="col-12">
                                        <div class="row ">
                                            <div class="col-md-6">
                                                <div class="form-floating mb-3">
                                                    <input type="text" class="form-control" id="userName1" style=" height: 3rem; color: #9BA6AC"
                                                    oninput=" this.value = this.value.replace(/[0-9]/g,'')" 
                                                    pattern="^([a-zA-Z]{2,}\s[a-zA-Z]{1,}'?-?[a-zA-Z]{2,}\s?([a-zA-Z]{1,})?)"
                                                    [ngClass]="{'is-invalid':userForm.controls['user_name'].touched && userForm.controls['user_name'].invalid || formSubmitted && userForm.controls['user_name'].invalid}"
                                                        name="userName" placeholder="User Full Name" required formControlName="user_name">
                                                        <label for="floatingInput" style="font-size: 0.8rem;color: #9BA6AC" class="form-label" i18n>User Full Name</label>
                                                         <div *ngIf="userForm.controls['user_name'].touched && userForm.controls['user_name'].invalid || formSubmitted && userForm.controls['user_name'].invalid" class="invalid-feedback">
                                                            <div *ngIf="userForm.controls['user_name'].errors?.['required']" i18n>
                                                              Mandatory field
                                                            </div>
                                                        <div *ngIf="userForm.controls['user_name'].errors?.['pattern']" i18n>
                                                          Invalid name format. Please enter your full name
                                                        </div>
                                                      </div>
                                                
                                                      </div>
                                        </div>
                                            <div class="col-md-6">
                                                <div class="form-floating mb-3">
                                                    <input type="text" class="form-control" id="userName1" style="  height: 3rem;
                                                    color: #9BA6AC" formControlName="designation" minlength="3"
                                                    oninput=" this.value = this.value.replace(/[0-9]/g,'')" 
                                                    [ngClass]="{'is-invalid':userForm.controls['designation'].touched && userForm.controls['designation'].invalid || formSubmitted && userForm.controls['designation'].invalid}"

                                                        name="userName" placeholder="Designation" required>
                                                    <label for="floatingInput" style="font-size: 0.8rem;color: #9BA6AC" class="form-label" i18n>Designation</label>
                                                <div *ngIf="userForm.controls['designation'].touched && userForm.controls['designation'].invalid || formSubmitted && userForm.controls['designation'].invalid" class="invalid-feedback">

                                                    <div *ngIf="userForm.controls['designation'].errors?.['required']" i18n>
                                                      Mandatory field
                                                    </div>
                                                    <div *ngIf="userForm.controls['designation'].errors?.['minlength']" i18n>
                                                      Enter full designation
                                                    </div>
                                                  </div>
                                                    </div>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-md-6">
                                                <div class="form-floating mb-3">
                                                    <input type="text" class="form-control" id="userName1" style=" height: 3rem;color: #9BA6AC"
                                                        name="userName" placeholder="Email Address" required formControlName="email"
                                                    [ngClass]="{'is-invalid':userForm.controls['email'].touched && userForm.controls['email'].invalid || formSubmitted && userForm.controls['email'].invalid}">
                                                    <label for="floatingInput" style="font-size: 0.8rem;color: #9BA6AC" class="form-label" i18n>Email Address</label>
                                                    
                                                <div *ngIf="userForm.controls['email'].touched && userForm.controls['email'].invalid || formSubmitted && userForm.controls['email'].invalid" class="invalid-feedback">

                                                    <div *ngIf="userForm.controls['email'].errors?.['required']" i18n>
                                                      Mandatory field
                                                    </div>
                                                    <div *ngIf="userForm.controls['email'].errors?.['pattern']" i18n>
                                                      Invalid email format. Please enter valid email format
                                                    </div>
                                                  </div>
                                                </div>
                                            </div>
                                            <div class="col-md-6">
                                                <div class="form-floating mb-3">
                                                    <input oninput="this.value=this.value.slice(0,this.maxLength)" matInput maxlength="10"  type="number" class="form-control" id="userName1" style=" height: 3rem;color: #9BA6AC"
                                                        name="userName" placeholder="Mobile Number" formControlName="mobile"  
                                                    [ngClass]="{'is-invalid':userForm.controls['mobile'].touched && userForm.controls['mobile'].invalid || formSubmitted && userForm.controls['mobile'].invalid}">
                                                 <label for="floatingInput" style="font-size: 0.8rem;color: #9BA6AC" class="form-label" i18n>Mobile Number</label>
                                                 
                                            <div *ngIf="userForm.controls['mobile'].touched && userForm.controls['mobile'].invalid || formSubmitted && userForm.controls['mobile'].invalid" class="invalid-feedback">

                                                <div *ngIf="userForm.controls['mobile'].errors?.['required']" i18n>
                                                  Mandatory field
                                                </div>
                                                <div *ngIf="userForm.controls['mobile'].errors?.['pattern']" i18n>
                                                  Invalid format. Please enter valid format
                                                </div>
                                              </div>

                                                    </div>
                                            </div>
                                        </div>
                                        <div class="mb-3" style="display: grid; grid-template-columns: auto auto" >
                                            <div class="form-check">
                                              <input type="radio" id="customRadio1" name="customRadio" (change)="change(false)" [checked]="notThirdParty"  class="form-check-input" />
                                              <label class="form-check-label" for="customRadio1">Own Employee</label>
                                            </div>
                                            <div class="form-check">
                                              <input type="radio" id="customRadio2" name="customRadio" (change)="change(true)" [checked]="thirdParty"  class="form-check-input" />
                                              <label class="form-check-label" for="customRadio1">Employee of TPA</label>
                                        </div>
                                        <div *ngIf="formSubmitted && thirdParty==false&& notThirdParty==false" style="width: 100%; margin-top: 0.25rem;font-size: 0.75rem;  color: #F08F8F;">
                                                  Mandatory field
                                              </div>
                                      </div>
                                      <div class="form-floating" style="display: flex; padding-bottom: 1rem; " *ngIf="thirdParty == true" >
                                        <input type="text" class="form-control" (input)="inputTpa()" id="userName1" style="
                                            background: #383e4a;
                                            border: 1px solid #444c5b;
                                            border-radius: 4px;color: #9BA6AC" name="userName" placeholder="Select third-party Company or Add New" formControlName="third_party_org_name" list="codes" minlength="3" />
                                            <label for="floatingInput" style="font-size: 0.8rem;color: #9BA6AC" required class="form-label" i18n>Select third-party Company or Add New</label>
                                        <datalist id="codes" style="background: white">
                                          <option *ngFor="let c of codeList" >
                                            {{ c }}
                                          </option>
                                        </datalist>
                                        <!-- <div > -->
                                        <button *ngIf="showButton&&addTpafunc==false&&changeButton && userForm.controls['third_party_org_name'].value.length>=3" (click)="addTpa()" id="erase" style="
                                            background: #383e4a;
                                            height: 3.6rem;
                                            border: 1px solid #444c5b;
                                            border-radius: 4px;
                                            color: grey;
                                            padding-right: 0.5rem;
                                            padding-left: 0.5rem;">+</button>

                                            <button *ngIf="addTpafunc" class="mdi mdi-check-all" id="erase" style="
                                            background: #084b23;
                                            height: 3..6rem;
                                            border: 1px solid #444c5b;
                                            border-radius: 4px;
                                            color: grey;
                                            padding-right: 0.5rem;
                                            padding-left: 0.5rem;"></button>
                                        <!-- </div> -->
                                      </div>

                                      <div class="mb-3" *ngIf="userForm.controls['third_party_org_name']?.touched && thirdParty==true" style="width: 100%; font-size: 0.75rem; color: #F08F8F;">
                                                  <div *ngIf=" userForm.controls['third_party_org_name'].errors?.['minlength']" i18n>
                                                    Enter full Third Party Name
                                                  </div>
                                              </div>

                                              <div class="mb-3" *ngIf="showLiveAlertNextButton" style="width: 100%;  font-size: 0.75rem;color: #F08F8F;">
                                                  {{errorMessageNextButton}}
                                              </div>

                                              <div style="padding-bottom:1rem">
                                                        <h5 class="header-title" style="color: #AEB5BC;">Do not notify User</h5>
                                                        <div class="form-check form-switch" style=" display: grid;">
                                                            <input type="checkbox"  class="form-check-input" id="customSwitch1" formControlName="is_web">
                                                        </div>
                                                    </div>
                                                    
                                    </div> <!-- end col -->
                                </div> <!-- end row -->
         
                            </ng-template>
                        </li>
                        <li [ngbNavItem]="2">
                            <a [ngStyle]=" activeWizard1 > 2 ? ngstyle():null" ngbNavLink class="rounded-0 pt-2 pb-2"style="pointer-events:none">
                                <span class=" d-sm-inline">Products</span>
                            </a>
                                          <ng-template ngbNavContent>
                                            <div style="display: grid;
                                            grid-template-columns:repeat(auto-fill, minmax(8rem , 5fr));
                                            grid-gap: 1rem;margin-bottom: 2rem;">
                                                        <ng-template ngFor let-season [ngForOf]="userProduct" let-i=index>
                                                            <div class="gal-detail thumb" style="    width: 142px;
                                                            height: 180px;
                                                            background: #3C424F;
                                                            border-radius: 8px;margin:0%">
                                                                <a href="javascript:void(0)" class="image-popup" title="hi">
                                                                </a>
                                                                <div style="    text-align: -webkit-center;
                                                                display: grid;
                                                                justify-items: center;
                                                                grid-gap: 1rem; margin-top: 0.5rem;">
                                                                    <div class="avatar-md">
                                                                        <span class="avatar-title bg-soft-secondary text-secondary font-20 rounded-circle">
                                                                            F{{season.product_name.charAt(0).toUpperCase()}}
                                                                        </span>
                                                                    </div>
                                                                    <p class="text-muted mb-1">Fedo {{season.product_name === 'vitals' ? 'Vitals' : season.product_name.toUpperCase()}}</p>
                                                                    <div class="form-check form-switch" style=" display: grid;justify-items: center;">
                                                                        <input type="checkbox" formControlName="{{season.product_name}}"  (change)="updateUserProd($event,season)" class="form-check-input" id="customSwitch1">
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </ng-template>
                                            </div>
                                        </ng-template>
                                         
                        </li>

                        <li [ngbNavItem]="3">
                            <a style="pointer-events: none;" ngbNavLink class="rounded-0 pt-2 pb-2">
                                <!-- <i class="mdi mdi-checkbox-marked-circle-outline me-1"></i> -->
                                <span class=" d-sm-inline">Finish</span>
                            </a>
                            <ng-template ngbNavContent>
                                <div class="row">
                                    <div class="col-12">
                                        <div class="text-center">
                                            <h2 class="mt-0"><i class="mdi mdi-check-all" style="color: #fff;"></i></h2>
                                            <h3 class="mt-0" style="color: #fff;">Success !</h3>

    
                                            <p style="color: #AEB5BC;" class="w-75 mb-2 mx-auto">You have successfully created the User <b>{{user_name}}</b>. An invitaton email has already been sent to the User.
                                                 You may inform the User to check mail and follow instructions to sign up and start Pilot.</p>
                                        </div>
                                    </div>
                                </div> 
                            </ng-template>
                            
                        </li>
                    </ul>
    
                    <div [ngbNavOutlet]="basicWizard" class="b-0 mb-0 pt-0"></div>
                    <ul class="list-inline mb-0 wizard" >
                        <div id="liveAlertPlaceholder">
                            <ngb-alert type="warning" *ngIf="showLiveAlertAPI" (closed)="showLiveAlertAPI = false">{{errorMessageAPI}}</ngb-alert>
                        </div>
                        <li class="previous list-inline-item" *ngIf="!(activeWizard1 == list)">
                            <button class="btn btn-secondary" (click)="activeWizard1=1" *ngIf="activeWizard1 !== 3"
                                [disabled]="activeWizard1===1">Previous</button>
                        </li>
                        <li class="next " style="text-align: center;" *ngIf="activeWizard2 == 3||activeWizard1 == 3">
                            <div style="    display: grid;
                            grid-template-columns: min-content max-content;
                            justify-content: center;
                            grid-gap: 0.5rem;">
                                <button style="width: 6rem;" type="button" class="btn btn-secondary" (click)="modal.dismiss('');userForm.reset();reloadCurrentPage();"
                                    >Close</button>
                                <button type="button" class="btn btn-info" (click)="created=false;activeWizard1=1;selectedUserProducts=[];userForm.reset();showLiveAlert=false; userForm.controls['org_id'].setValue(organaization_id);showLiveAlertNextButton=false; formSubmitted=false; notThirdParty=false; thirdParty=false; addTpafunc=false; showLiveAlertNextButton=false;showLiveAlertAPI=false"
                                    >Add Another User</button>
                            </div>
                        </li>
                        <li class="next list-inline-item float-end" *ngIf="!(activeWizard2 == 3)">
                            <button type="button" style="width: 100px;" (click)="  checkUserFirstForm()" class="btn btn-info" 
                                *ngIf=" activeWizard1==1">Next</button>
                            <button type="button" style="width: 100px;" class="btn btn-info" (click)="checkingUserForm()" 
                                *ngIf="activeWizard1==2&&selectedUserProducts.length!==0">Submit</button>
                        </li>
                    </ul>
    
    
    
                </div> <!-- end #basicwizard-->
            </form>
    
        </div> <!-- end card-body -->
    </div> <!-- end card-->
</ng-template>


<ng-template #toggleModal2 let-modal style="width: auto;">
    <div class="card" style="background-color: #282E38;margin-bottom: 0;    margin: 0;">
        <div class="card-body" style="     min-width: min-content;   background-color: #282E38;">
            <div class=" float-end" ngbDropdown placement="bottom-end">
                <a href="javascript:void(0)" class="dropdown-toggle arrow-none card-drop" (click)="modal.dismiss('');basicWizardForm.reset();list=3; reloadPage();" ngbDropdownToggle>
                    <i class="mdi mdi-close"></i>
                </a>
            </div>            
            <h4 style="color: white;">Edit Organisation</h4>
    
            <form [formGroup]="OrgForm" #basicForm="ngForm">
                <div id="basicwizard">
    
                    <ul ngbNav #basicWizard="ngbNav" [(activeId)]="activeWizard2"
                        class="nav-pills nav-justified form-wizard-header mb-4" style="display: grid;
                        grid-template-columns: repeat(auto-fill, minmax(8rem , 5fr)); background-color: #313844;">
<!--            
                        <li [ngbNavItem]="1">
                            <a [ngStyle]=" activeWizard2 > 1 ? ngstyle():null" ngbNavLink class="rounded-0 pt-2 pb-2">
                                <span class=" d-sm-inline">Products</span>
                            </a>
                            <ng-template ngbNavContent>
                                    <div style="display: grid;
                                    grid-template-columns:repeat(auto-fill, minmax(8rem , 5fr));
                                    grid-gap: 1rem;margin-bottom: 2rem;">
                                         
                                         <ng-template ngFor let-season [ngForOf]="products" let-i=index>
                                            <div class="gal-detail thumb" style=" width: 142px;
                                            height: 180px;background: #3C424F;
                                             border-radius: 8px; margin:0px">
                                                <a href="javascript:void(0)" class="image-popup" title="hi">
                                                </a>
                            
                                                <div style="    text-align: -webkit-center;
                                                display: grid;
                                                justify-items: center;
                                                grid-gap: 1rem; margin-top: 0.5rem;">
                                                    <div class="avatar-md">
                                                        <span class="avatar-title bg-soft-secondary text-secondary font-20 rounded-circle">
                                                            F{{season.product_name.charAt(0).toUpperCase()}}
                                                        </span>
                                                    </div>
                                                    <p class="text-muted mb-1">Fedo {{season.product_name === 'vitals' ? 'Vitals' : season.product_name.toUpperCase()}}</p>
                                                    <div class="form-check form-switch" style=" display: grid;justify-items: center;">
                                                        <input type="checkbox" [checked]="season.checked" (change)="updateProduct($event,season.id)"  [ngStyle]="{'pointer-events': season.noPenetration ? 'none':'fill'}"  class="form-check-input" id="customSwitch1">
                                                    </div>
                                                </div>
                                            </div>
                                        </ng-template>
                                      
    
                                    </div>
                                </ng-template>
                        </li> -->

                        <ng-template ngFor let-season [ngForOf]="listdetails" let-i=index>                        
                            <li [ngbNavItem]="1">
                            <a [ngStyle]=" activeWizard2 > 1 ? ngstyle():null" ngbNavLink class="rounded-0 pt-2 pb-2">
                                <!-- <i class="mdi mdi-face-profile me-1"></i> -->
                                <span class=" d-sm-inline">Config {{season.product_name}}</span>
                            </a>
                            <ng-template ngbNavContent>
                                    <div class="row grid-container ">
                                        <div class="">
                                            <div class="card">
                                                <div class="card-body" style="padding-left: 0;">
                                                    <h4 class="header-title" style="color: white;">Specify Pilot Duration (Days):</h4>
                                                    <div style="    display: grid;
                                                    grid-template-columns: max-content max-content max-content;
                                                    grid-gap: 1rem;
                                                    color: #AEB5BC;">
                                                        <div class="form-check mb-2 form-check-primary">
                                                            <input class="form-check-input" type="radio"   value="true" id="customckeck1" [checked]="season.is_pilot_duration==true" (change)="pilotduration($event,season.product_name,true)">
                                                            <label class="form-check-label" for="customckeck1">Days</label>
                                                        </div>
                                                        <div class="form-check mb-2 form-check-primary">
                                                            <input class="form-check-input" type="radio"   value="false" id="customckeck1" [checked]="season.is_pilot_duration==false" (change)="pilotduration($event,season.product_name,false)">
                                                            <label class="form-check-label" for="customckeck1">Attempts</label>
                                                        </div>
                                                    </div>
                                                    <div *ngIf="season.is_pilot_duration==true">
                                                    <ngx-slider [value]="35" [(ngModel)]="season.pilot_duration" [ngModelOptions]="{standalone: true}" 
                                                        [options]="{
                                                            floor: 0,
                                                            ceil: 90    
                                                        }"></ngx-slider>
                                                    </div>

                                                    <div *ngIf="season.is_pilot_duration==false">
                                                            
                                                        <div class="form-floating ">
                                                            <input oninput="this.value=this.value.slice(0,this.maxLength)" matInput maxlength="6" type="number" class="form-control" id="userName1" style=" height: 3rem; color: #9BA6AC; width: 50%;"
                                                                name="userName" placeholder="Zip" required [(ngModel)]="season.attempts" [ngModelOptions]="{standalone: true}" >
                                                                <label for="floatingInput" style="font-size: 0.8rem;   color: #9BA6AC;" class="form-label" i18n>Attempts</label> 
                                                                
                                                        </div>
                                                        
                                                    </div>

                                                </div> <!-- end card-body -->
                                            </div> <!-- end card-->
                                            <!-- <div style="padding-bottom:1rem">
                                                <h4 class="header-title" style="color: white;">Enable Fedo Score:</h4>{{season.name}}
                                                <div class="form-check form-switch" style=" display: grid;">
                                                    <input type="checkbox" [(ngModel)]="season.fedoscore" [ngModelOptions]="{standalone: true}" class="form-check-input"  [readonly]="orglogin" id="customSwitch1">
                                                </div>
                                            </div> -->
                                            <div *ngIf="season.product_name === 'Vitals'" style="margin-bottom:1rem; margin-top: 1rem"    >
                                                <h4 class="header-title" style="color: #AEB5BC;">Enable Apps:</h4>
                                                <div style="    display: grid;
                                                grid-template-columns: max-content max-content max-content;
                                                grid-gap: 1rem;
                                                color: #AEB5BC;">
                                                    <div class="form-check mb-2 form-check-primary">
                                                        <input class="form-check-input" type="checkbox" [(ngModel)]="season.mobile_access" [ngModelOptions]="{standalone: true}"  value="0" id="customckeck1" checked>
                                                        <label class="form-check-label" for="customckeck1">Android</label>
                                                    </div>
                                                    <div class="form-check mb-2 form-check-primary">
                                                        <input class="form-check-input" type="checkbox" [(ngModel)]="season.ios_access" [ngModelOptions]="{standalone: true}"  value="" id="customckeck1" checked>
                                                        <label class="form-check-label" for="customckeck1">iOS</label>
                                                    </div>
                                                    <div class="form-check mb-2 form-check-primary">
                                                        <input class="form-check-input" type="checkbox" [(ngModel)]="season.web_access" [ngModelOptions]="{standalone: true}"  value="" id="customckeck1" checked>
                                                        <label class="form-check-label" for="customckeck1">WebApp</label>
                                                    </div>
                                                </div>
                                            </div>
                                            
                                                <!-- <div class="mb-3" *ngIf="season.event_mode!='0'"  >
                                                    <h4 class="header-title" style="color: #AEB5BC;">Event Mode Ends With:</h4>
                                                    <div style="display: grid; grid-template-columns: max-content max-content;grid-gap:1rem">
                                                        <div >
                                              <input type="radio" class="form-check-input" id="customRadio1" (click)="setEventMode($event,season.product_name,1)"[checked]="season.event_mode==1"   />
                                              <label class="form-check-label" for="customRadio1">&nbsp;Thank You Popup</label>
                                            </div>
                                            <div >
                                              <input type="radio" class="form-check-input" id="customRadio2" (click)="setEventMode($event,season.product_name,2)"  [checked]="season.event_mode==2"   />
                                              <label class="form-check-label" for="customRadio1"
                                                >&nbsp;Vitals Dashboard</label>
                                            </div>
                                                    </div>
                                      </div> -->
                                            <!-- </div> -->
                                        </div>
                                        <div class="card-body" style="padding: 0;margin-top:1.5rem; margin-left: 1rem; " >
                                            <div style="padding-bottom: 1rem;">
                                                <h4 class="header-title" style="color: #AEB5BC;">Enable Fedo Score</h4>
                                                <div class="form-check form-switch" style=" display: grid;">
                                                    <input type="checkbox" (change)="next=!next" class="form-check-input" [(ngModel)]="season.fedoscore" [ngModelOptions]="{standalone: true}" id="customSwitch1">
                                                </div>
                                            </div>
                                            <div *ngIf="season.product_name === 'Vitals'" >
                                                <div style="padding-bottom:1rem">
                                                    <h4 class="header-title" style="color: #AEB5BC;">Enable Event Mode:</h4>
                                                    <div class="form-check form-switch" style=" display: grid;">
                                                        <input type="checkbox"  class="form-check-input"(change)="eventmode($event,season.product_name)"  [ngModel]="season.event_mode!=='0'?true:false" [ngModelOptions]="{standalone: true}" id="customSwitch1">
                                                    </div>
                                                </div>
                                                </div>
                                            <div *ngIf="season.product_name === 'Vitals'" >
                                                
                                                <div>
                                                    <div style="padding-bottom: 1rem;">
                                                        <h4 class="header-title" style="color: #AEB5BC;">Enable Application Number</h4>
                                                        <div class="form-check form-switch" style=" display: grid;">
                                                            <input type="checkbox" (change)="next=!next" class="form-check-input" [(ngModel)]="season.is_application_number" [ngModelOptions]="{standalone: true}" id="customSwitch1">
                                                        </div>
                                                    </div>

                                                <div style="padding-bottom:1rem">
                                                    <h4 class="header-title" style="color: #AEB5BC;">Enable Questionnaire:</h4>
                                                    <div class="form-check form-switch" style=" display: grid;">
                                                        <input type="checkbox"  class="form-check-input"  [(ngModel)]="season.enable_questionnaire" [ngModelOptions]="{standalone: true}" id="customSwitch1">
                                                    </div> 
                                                </div>
                                                <div style="padding-bottom:1rem">
                                                    <h4 class="header-title" style="color: #AEB5BC;">Send SMS link to Customers:</h4>
                                                    <div class="form-check form-switch" style=" display: grid;">
                                                        <input type="checkbox"  class="form-check-input"  [(ngModel)]="season.enable_sms" [ngModelOptions]="{standalone: true}" id="customSwitch1">
                                                    </div>
                                                </div>
                                                
                                                <div style="padding-bottom:1rem">
                                                    <h4 class="header-title" style="color: #AEB5BC;">Enable Kiosk</h4>
                                                    <div class="form-check form-switch" style=" display: grid;">
                                                        <input type="checkbox"  class="form-check-input" [ngModel]="season.enable_kiosk" [ngModelOptions]="{standalone: true}" (change)="event_kiosc($event,season.product_name)"> 
                                                    </div>
                                                </div>
                                                
            
            
                                                <div class="form-floating mb-3"  *ngIf="season.enable_kiosk">
                                                    <!-- <input   type="text" class="form-control" id="season.kiosc_user" style=" height: 3rem; color: #9BA6AC; width : auto;" 
                                                        name="userName" placeholder="City"  required="'"  [(ngModel)]="season.kiosk_user"  [ngModelOptions]="{standalone: true}" (blur)="checkInputValue(season.kiosk_user,season.product_name)"> 
                                                        <label for="floatingInput" style="font-size: 0.8rem ;   color: #9BA6AC;" class="form-label" i18n>Kiosk User</label> -->
                                                        <select [value]='country' #kiosk_user (change)="checkInputValue(kiosk_user,season.product_name)" style=" height: 3rem; color: #9BA6AC ; padding: 0 1rem;background:white;width:auto; background-color: #383E4A;
                                                        border: 1px solid #444C5B;">
                                                        <option [selected]>  {{selectedValue ? selectedValue : season.kiosk_user}} </option>
                                                        <option value="" *ngFor="let c of kiosk_users" [value]='c' >  {{c}} </option>
                                                        </select>
                                                        
                                                </div>  
                                            </div>
                                            


                                         
                                            <!-- <div style="margin-bottom: 1rem;">
                                                <h4 class="header-title" style="color: #AEB5BC;margin:0">Limit Scans</h4>
                                                <div class="form-check form-switch" style=" display: grid;">
                                                    <input type="checkbox"  class="form-check-input" [(ngModel)]="season.limitScans" [ngModelOptions]="{standalone: true}" id="customSwitch1">
                                                </div>
                                            </div> -->
                                            <!-- <div *ngIf="season.limitScans" style="display: grid;grid-template-columns: 1fr 1fr;grid-gap:1rem">
                                                <div class="">
                                                    <div class="form-floating mb-3">
                                                        <input oninput="this.value=this.value.slice(0,this.maxLength)" matInput maxlength="10" type="number" class="form-control" id="userName1" style=" height: 3rem; color: #9BA6AC;"
                                                            name="userName" placeholder="Limit Scans" required [(ngModel)]="season.scans" [ngModelOptions]="{standalone: true}">
                                                            <label for="floatingInput" style="font-size: 0.8rem ;   color: #9BA6AC;" class="form-label" i18n>Limit Scans</label>
                                                            
                                                    </div>
                                                </div>
                                                <div class="mb-3" >
                                                    <div class="form-check">
                                                      <input type="radio" id="customRadio1" name="customRadio" (change)="change()" [checked]="notThirdParty"  class="form-check-input" />
                                                      <label class="form-check-label" for="customRadio1">Per Month</label>
                                                    </div>
                                                    <div class="form-check">
                                                      <input type="radio" id="customRadio2" name="customRadio" (change)="change()" [checked]="thirdParty"  class="form-check-input" />
                                                      <label class="form-check-label" for="customRadio1"
                                                        >In Total</label
                                                      >
                                                    </div>   
                                                  </div>

                                            </div> -->
                                            </div>

                                        </div>

                                    </div>
                                </ng-template>
                        </li>
                        </ng-template>

                        <li [ngbNavItem]="list">
                            <a style="pointer-events: none;" ngbNavLink class="rounded-0 pt-2 pb-2" style="pointer-events: none;">
                                <span class=" d-sm-inline">Finish</span>
                            </a>
                            <ng-template ngbNavContent>
                                <div class="row">
                                    <div class="col-12">
                                        <div class="text-center">
                                            <h2 class="mt-0"><i class="mdi mdi-check-all" style="color: #fff;"></i></h2>
                                            <h3 class="mt-0" style="color: #fff;">Success !</h3>
    
                                            <p class="w-75 mb-2 mx-auto" style="color: #AEB5BC">Your changes have been saved successfully.</p>
                                        </div>
                                    </div>
                                </div> 
                            </ng-template>
                            
                        </li>
                    </ul>
    
                    <div [ngbNavOutlet]="basicWizard" class="b-0 mb-0 pt-0"></div>
                    <ul class="list-inline mb-0 wizard" >
                        <div *ngIf="showOrgLiveAlert" class="mb-3" style="width: 100%;
                                        margin-top: 0.25rem;
                                        font-size: 0.75rem;
                                        color: #F08F8F;">

                                                  {{errorOrgMessage}}
                                                
                                              </div>
                        <!-- <li class="previous list-inline-item" *ngIf="!(activeWizard2 == list)">
                            <button class="btn btn-secondary" (click)="activeWizard2=activeWizard2-1" *ngIf="activeWizard2 !== list"
                                [disabled]="activeWizard2===1">Previous</button>
                        </li> -->
                        <li class="next " style="text-align: center;" *ngIf="activeWizard2 == list">
                            <button type="button"    style="width: 100px;"  class="btn btn-secondary mt-4" (click)="modal.dismiss('');OrgForm.reset();listorg=3;listdetails=[]; reloadPage();"
                                >Close</button>
                        </li>
                        <li class="next list-inline-item float-end" *ngIf="!(activeWizard2 == list)">
                            <!-- <button type="button" (click)="activeWizard2=activeWizard2+1" style="width: 100px;" class="btn btn-info"
                                *ngIf="activeWizard2<list-1">Next</button> -->
                            <button type="button" class="btn btn-secondary" (click)="checkingProductOrgForm();activeWizard2=activeWizard2+1" style="width: 100px;" class="btn btn-info"
                                *ngIf="activeWizard2 < list">Submit</button>
                        </li>
                    </ul>
    
    
    
                </div> <!-- end #basicwizard-->
            </form>
    
        </div> <!-- end card-body -->
    </div> <!-- end card-->
</ng-template>
<ng-template #toggleModal1 let-modal>
    <div class="card" style="background-color: #282E38;margin-bottom: 0; ">
        <div class="card-body" style="background-color: #282E38 ;">
            <div class=" float-end" ngbDropdown placement="bottom-end">
                <a href="javascript:void(0)" class="dropdown-toggle arrow-none card-drop" (click)="modal.dismiss('');basicWizardForm.reset();list=3" ngbDropdownToggle>
                    <i class="mdi mdi-close"></i>
                </a>
            </div>            
            <h4 style="color: white;">Edit Organisation</h4>
    
            <form [formGroup]="OrgForm" #basicForm="ngForm">
                <div id="basicwizard">
    
                    <ul ngbNav #basicWizard="ngbNav" [(activeId)]="activeWizard2"
                        class="nav-pills nav-justified form-wizard-header mb-4" style="display: grid;
                        grid-template-columns: repeat(auto-fill, minmax(7rem , 5fr)); background-color: #313844;">
                        <li [ngbNavItem]="1">
                            <a [ngStyle]=" activeWizard2>1 ? ngstyle():null" ngbNavLink class="rounded-0 pt-2 pb-2">
                                <span class=" d-sm-inline">Org Details</span>
                            </a>
                            <ng-template ngbNavContent>
                                <div class="row" >
                                    <div class="col-12">
                                        <div class="row mb-3">
                                            <div class="col-md">
                                                <div class="form-floating ">

                                                <input type="text" class="form-control" id="userName1" style="height: 3rem; margin-bottom: 1rem;color: #9BA6AC"
                                                [ngClass]="{ 'is-invalid':OrgDetailsEditForm && OrgForm.controls['organization_name'].invalid}" 
                                                name="userName" minlength="3" placeholder="Organisation Name" formControlName="organization_name" oninput=" this.value = this.value.replace(/[0-9]/g,'')" >
                                                    <label for="floatingInput" style="font-size: 0.8rem;color: #9BA6AC" class="form-label" i18n>Organisation Name</label>
                                                    <div *ngIf="OrgDetailsEditForm && OrgForm.controls['organization_name'].invalid " class="invalid-feedback">
                                                        <div *ngIf="OrgForm.controls['organization_name'].errors?.['required']" i18n>
                                                            Mandatory field
                                                          </div>
                                                          <div *ngIf="OrgForm.controls['organization_name'].errors?.['minlength']" i18n>
                                                            Enter full Organisation Name
                                                          </div>
                                                    </div>
                                            </div>
                                        </div>
                                    </div>
                                        <div class="row mb-3">
                                            <div class="col-md-6">
                                                <div class="form-floating mb-3">

                                                    <select  style=" height: 3rem; color: #9BA6AC ; padding: 0 1rem;background:white;width:100%; background-color: #383E4A;
                                                    border: 1px solid #444C5B;" value='country' formControlName="country">
                                                        <option value="" *ngFor="let c of countryList" [ngValue]='c.name'>  {{c.name}} </option>
                                                      </select>

                                                <!-- <input type="text" class="form-control" id="userName1" style=" height: 3rem;color: #9BA6AC"  minlength="3"
                                                oninput=" this.value = this.value.replace(/[0-9]/g,'')" 
                                                [ngClass]="{ 'is-invalid':OrgDetailsEditForm && OrgForm.controls['country'].invalid}" 
                                                name="userName" placeholder="Country" required formControlName="country">
                                                    <label for="floatingInput" style="font-size: 0.8rem;color: #9BA6AC" class="form-label" i18n>Country</label>
                                                    <div *ngIf="OrgDetailsEditForm && OrgForm.controls['country'].invalid " class="invalid-feedback">
                                                        <div *ngIf="OrgForm.controls['country'].errors?.['required']" i18n>
                                                            Mandatory field
                                                          </div>
                                                          <div *ngIf="OrgForm.controls['country'].errors?.['minlength']" i18n>
                                                            Invalid Country format. Please enter Country
                                                          </div>
                                                    </div> -->
                                            </div>
                                        </div>
                                            <div class="col-md-6">
                                        <div class="form-floating mb-3">

                                                <input oninput="this.value=this.value.slice(0,this.maxLength)" matInput maxlength="6" type="number" class="form-control" id="userName1" style=" height: 3rem;color: #9BA6AC"(input)="inputZip()"
                                                [ngClass]="{ 'is-invalid':OrgDetailsEditForm && OrgForm.controls['zip'].invalid}" 
                                                name="userName" placeholder="Zip" formControlName="zip" minlength="3">
                                                    <label for="floatingInput" style="font-size: 0.8rem;color: #9BA6AC" class="form-label" i18n>Zip</label>
                                                    <div *ngIf="OrgDetailsEditForm && OrgForm.controls['zip'].invalid " class="invalid-feedback">
                                                        <div *ngIf="OrgForm.controls['zip'].errors?.['required']" i18n>
                                                            Mandatory field
                                                          </div>
                                                          <div *ngIf="OrgForm.controls['zip'].errors?.['pattern']" i18n>
                                                            Invalid format. Please enter valid format
                                                          </div>
                                                    </div>
                                            </div>
                                        </div>
                                        </div>
                                        <div class="row mb-3">
                                            <div class="col-md-6">
                                                <div class="form-floating mb-3">
                                                <input type="text" class="form-control" id="userName1" style=" height: 3rem;color: #9BA6AC" minlength="3"
                                                [ngClass]="{ 'is-invalid':OrgDetailsEditForm && OrgForm.controls['state'].invalid}"  name="userName" placeholder="State" formControlName="state" >
                                                    <label for="floatingInput" style="font-size: 0.8rem;color: #9BA6AC" class="form-label" i18n>State</label>
                                                    <div *ngIf="OrgDetailsEditForm && OrgForm.controls['state'].invalid " class="invalid-feedback">
                                                        <div *ngIf="OrgForm.controls['state'].errors?.['required']" i18n>
                                                            Mandatory field
                                                          </div>
                                                          <div *ngIf="OrgForm.controls['state'].errors?.['minlength']" i18n>
                                                            Please Enter State
                                                          </div>
                                                    </div>
                                            </div>
                                        </div>
                                            <div class="col-md-6">
                                                <div class="form-floating mb-3">

                                                <input  matInput  type="text" class="form-control" id="userName1" style=" height: 3rem;color: #9BA6AC"  minlength="3"
                                                    name="userName" placeholder="City" formControlName="city"
                                                    [ngClass]="{ 'is-invalid':OrgDetailsEditForm && OrgForm.controls['city'].invalid}" >
                                                    <label for="floatingInput" style="font-size: 0.8rem;color: #9BA6AC" class="form-label" i18n>City</label>
                                                    <div *ngIf="OrgDetailsEditForm && OrgForm.controls['city'].invalid " class="invalid-feedback">
                                                        <div *ngIf="OrgForm.controls['city'].errors?.['required']" i18n>
                                                            Mandatory field
                                                          </div>
                                                          <div *ngIf="OrgForm.controls['city'].errors?.['minlength']" i18n>
                                                            Invalid format. Please enter valid format
                                                          </div>
                                                    </div>
                                            </div>
                                        </div>
                                        </div>
                                        <div class="row mb-3">
                                            <div class="col-md">
                                                <div class="form-floating ">

                                                <input type="text" class="form-control" id="userName1" style="height: 3rem; margin-bottom: 1rem;color: #9BA6AC"
                                                [ngClass]="{ 'is-invalid':OrgDetailsEditForm && OrgForm.controls['address'].invalid}" 
                                                name="userName" minlength="5" placeholder="Address" formControlName="address" oninput=" this.value = this.value.replace(/[0-9]/g,'')" >
                                                    <label for="floatingInput" style="font-size: 0.8rem;color: #9BA6AC" class="form-label" i18n>Address</label>
                                                    <div *ngIf="OrgDetailsEditForm && OrgForm.controls['address'].invalid " class="invalid-feedback">
                                                        <div *ngIf="OrgForm.controls['address'].errors?.['required']" i18n>
                                                            Mandatory field
                                                          </div>
                                                          <div *ngIf="OrgForm.controls['address'].errors?.['minlength']" i18n>
                                                            Enter full Address
                                                          </div>
                                                    </div>
                                            </div>
                                        </div>
                                    </div>
    
                                      
                                    </div> <!-- end col -->
                                </div> <!-- end row -->
                            </ng-template>
                        </li>
                        <li [ngbNavItem]="2">
                            <a ngbNavLink class="rounded-0 pt-2 pb-2" style="pointer-events: none   ;">
                                <span class=" d-sm-inline">Finish</span>
                            </a>
                            <ng-template ngbNavContent>
                                <div class="row">
                                    <div class="col-12">
                                        <div class="text-center">
                                            <h2 class="mt-0"><i class="mdi mdi-check-all" style="color: #fff;"></i></h2>
                                            <h3 class="mt-0" style="color: #fff;">Success !</h3>
    
                                            <p class="w-75 mb-2 mx-auto" style="color: #AEB5BC">Your changes have been saved successfully.</p>
                                        </div>
                                    </div>
                                    
                                </div> 
                                <div style="text-align: center; margin: 5rem 5rem 1rem 5rem;">
                                <button style="width: 100px;" type="button" class="btn btn-info" (click)="reloadCurrentPage()"
                                >Close</button>
                            </div>
                            </ng-template>
                            
                        </li>
                        
                    </ul>
    
                    <div [ngbNavOutlet]="basicWizard" class="b-0 mb-0 pt-0"></div>
                    <ul class="list-inline mb-0 wizard" *ngIf="activeWizard2 == 1" >
                        <div id="liveAlertPlaceholder">
                            <ngb-alert type="warning" *ngIf="showOrgLiveAlert" (closed)="showOrgLiveAlert = false">{{errorOrgMessage}}</ngb-alert>
                        </div>
                        <li class="previous list-inline-item" >
                            <button style="width: 6rem;" type="button" class="btn btn-secondary" (click)="modal.dismiss('')" 
                                >Close</button>
                        </li>

                        <li class="next list-inline-item float-end" >

                            <button type="button" style="width: 100px;" class="btn btn-info"  (click)="checkingOrgForm('org')"
                                >Submit</button>
                        </li>
                    </ul>
    
    
    
                </div> <!-- end #basicwizard-->
            </form>
    
        </div> <!-- end card-body -->
    </div> <!-- end card-->
</ng-template>
<ng-template #toggleModal7 let-modal>
    <div class="card" style="background-color: #282E38;margin-bottom: 0; ">
        <div class="card-body" style="background-color: #282E38 ;">
            <div class=" float-end" ngbDropdown placement="bottom-end">
                <a href="javascript:void(0)" class="dropdown-toggle arrow-none card-drop" (click)="modal.dismiss('');basicWizardForm.reset();list=3" ngbDropdownToggle>
                    <i class="mdi mdi-close"></i>
                </a>
            </div>            
            <h4 style="color: white;">Edit Organisation</h4>
    
            <form [formGroup]="OrgForm" #basicForm="ngForm">
                <div id="basicwizard">
    
                    <ul ngbNav #basicWizard="ngbNav" [(activeId)]="activeWizard2"
                        class="nav-pills nav-justified form-wizard-header mb-4" style="display: grid;
                        grid-template-columns: repeat(auto-fill, minmax(7rem , 5fr)); background-color: #313844;">
                        <li [ngbNavItem]="1">
                            <a [ngStyle]=" activeWizard2>1 ? ngstyle():null" ngbNavLink class="rounded-0 pt-2 pb-2">
                                <span class=" d-sm-inline">Org Details</span>
                            </a>
                            <ng-template ngbNavContent>
                                <div class="row" >
                                    <div class="col-12">
                                        <div class="row mb-3">
                                            <div class="col-md">
                                                <div class="form-floating mb-3">

                                                    <input type="text" class="form-control" id="userName1" style=" height: 3rem;color: #9BA6AC"pattern="^([a-zA-Z]{2,}\s[a-zA-Z]{1,}'?-?[a-zA-Z]{2,}\s?([a-zA-Z]{1,})?)"
                                                    oninput=" this.value = this.value.replace(/[0-9]/g,'')" 
                                                    [ngClass]="{ 'is-invalid':OrgDetailsEditForm && OrgForm.controls['admin_name'].invalid}" 
                                                    name="userName" placeholder="Org Admin Full Name" required formControlName="admin_name">
                                                        <label for="floatingInput" style="font-size: 0.8rem;color: #9BA6AC" class="form-label" i18n>Org Admin Full Name</label>
                                                        <div *ngIf="OrgDetailsEditForm && OrgForm.controls['admin_name'].invalid " class="invalid-feedback">
                                                            <div *ngIf="OrgForm.controls['admin_name'].errors?.['required']" i18n>
                                                                Mandatory field
                                                              </div>
                                                              <div *ngIf="OrgForm.controls['admin_name'].errors?.['pattern']" i18n>
                                                                Invalid name format. Please enter your full name
                                                              </div>
                                                        </div>
                                                </div>
                                        </div>
                                    </div>
                                        <div class="row mb-3">
                                       
                                            <div class="col-md-6">
                                        <div class="form-floating mb-3">

                                                <input type="text" class="form-control" id="userName1" style=" height: 3rem;color: #9BA6AC"
                                                [ngClass]="{ 'is-invalid':OrgDetailsEditForm && OrgForm.controls['designation'].invalid}" 
                                                name="userName" placeholder="Designation" formControlName="designation" minlength="3">
                                                    <label for="floatingInput" style="font-size: 0.8rem;color: #9BA6AC" class="form-label" i18n>Designation</label>
                                                    <div *ngIf="OrgDetailsEditForm && OrgForm.controls['designation'].invalid " class="invalid-feedback">
                                                        <div *ngIf="OrgForm.controls['designation'].errors?.['required']" i18n>
                                                            Mandatory field
                                                          </div>
                                                          <div *ngIf="OrgForm.controls['designation'].errors?.['minlength']" i18n>
                                                            Enter full designation
                                                          </div>
                                                    </div>
                                            </div>
                                        </div>
                                        <div class="col-md-6">
                                            <div class="form-floating mb-3">
                                            <input type="text" class="form-control" id="userName1" style=" height: 3rem;color: #9BA6AC"
                                                name="userName" placeholder="Email Address" formControlName="organization_email" [readonly]="true">
                                                <label for="floatingInput" style="font-size: 0.8rem;color: #9BA6AC" class="form-label" i18n>Email Address</label>
                                        </div>
                                    </div>
                                        </div>
                                        <div class="row mb-3">
                                         
                                            <div class="col-md-6">
                                                <div class="form-floating mb-3">

                                                <input oninput="this.value=this.value.slice(0,this.maxLength)" matInput maxlength="10" type="text" class="form-control" id="userName1" style=" height: 3rem;color: #9BA6AC" 
                                                    name="userName" placeholder="Mobile Number" formControlName="organization_mobile"
                                                    [ngClass]="{ 'is-invalid':OrgDetailsEditForm && OrgForm.controls['organization_mobile'].invalid}" >
                                                    <label for="floatingInput" style="font-size: 0.8rem;color: #9BA6AC" class="form-label" i18n>Mobile Number</label>
                                                    <div *ngIf="OrgDetailsEditForm && OrgForm.controls['organization_mobile'].invalid " class="invalid-feedback">
                                                        <div *ngIf="OrgForm.controls['organization_mobile'].errors?.['required']" i18n>
                                                            Mandatory field
                                                          </div>
                                                          <div *ngIf="OrgForm.controls['organization_mobile'].errors?.['pattern']" i18n>
                                                            Invalid format. Please enter valid format
                                                          </div>
                                                    </div>
                                            </div>
                                        </div>
                                        </div>
    
                                      
                                    </div> <!-- end col -->
                                </div> <!-- end row -->
                            </ng-template>
                        </li>
                        <li [ngbNavItem]="2">
                            <a ngbNavLink class="rounded-0 pt-2 pb-2" style="pointer-events: none   ;">
                                <span class=" d-sm-inline">Finish</span>
                            </a>
                            <ng-template ngbNavContent>
                                <div class="row">
                                    <div class="col-12">
                                        <div class="text-center">
                                            <h2 class="mt-0"><i class="mdi mdi-check-all" style="color: #fff;"></i></h2>
                                            <h3 class="mt-0" style="color: #fff;">Success !</h3>
    
                                            <p class="w-75 mb-2 mx-auto" style="color: #AEB5BC">Your changes have been saved successfully.</p>
                                        </div>
                                    </div>
                                    
                                </div> 
                                <div style="text-align: center; margin: 5rem 5rem 1rem 5rem;">
                                <button style="width: 100px;" type="button" class="btn btn-info" (click)="reloadCurrentPage()"
                                >Close</button>
                            </div>
                            </ng-template>
                            
                        </li>
                        
                    </ul>
    
                    <div [ngbNavOutlet]="basicWizard" class="b-0 mb-0 pt-0"></div>
                    <ul class="list-inline mb-0 wizard" *ngIf="activeWizard2 == 1" >
                        <div id="liveAlertPlaceholder">
                            <ngb-alert type="warning" *ngIf="showOrgLiveAlert" (closed)="showOrgLiveAlert = false">{{errorOrgMessage}}</ngb-alert>
                        </div>
                        <li class="previous list-inline-item" >
                            <button style="width: 6rem;" type="button" class="btn btn-secondary" (click)="modal.dismiss('')" 
                                >Close</button>
                        </li>

                        <li class="next list-inline-item float-end" >

                            <button type="button" style="width: 100px;" class="btn btn-info"  (click)="checkingOrgForm('admin')"
                                >Submit</button>
                        </li>
                    </ul>
    
    
    
                </div> <!-- end #basicwizard-->
            </form>
    
        </div> <!-- end card-body -->
    </div> <!-- end card-->
</ng-template>

<h4 *ngIf="orglogin === true" style="color: white;">Your Fedo Products</h4>
<h4 *ngIf="orglogin === false" style="color: white;">Fedo Products</h4>
    <div class="row mb-2"  >
        <div class="col-xl-3 col-md-4" style="display: inline-grid;" *ngFor="let product of orgProd;let indexOfelement=index;">
            <div class="card" style="background: #313844;border-radius:10px"  >
                <div class="card-body widget-user">
                    <div class="float-end" ngbDropdown placement="bottom-end">
                        <a href="javascript:void(0);" class="arrow-none card-drop" ngbDropdownToggle>
                            <i class="mdi mdi-dots-vertical"></i>
                        </a>
                        <div ngbDropdownMenu>
                          <a  *ngIf="orglogin === false" (click)="orgEditing(toggleModal2,product.product_id);" href="javascript:void(0); "  ngbDropdownItem>Edit Pilot</a>

                            <a href="javascript:void(0);" [routerLink]="'/'+snapshotParam+'/pilotdashboard/'+product.product_id" ngbDropdownItem>Pilot Info</a>
                        </div>
                    </div>
                    <div class="text-center">
                        <p style="margin: 0;"><b class="fw-normal" style="color: #82B4F3;font-size: xxx-large;font-weight: bolder;">{{product.count}}</b> Scans</p>
                        <div class=" card-body" style="padding:0;text-align: -webkit-center;">
                            <!-- <p class="fw-normal" style="color: #82B4F3;    margin: 0;">Fedo {{product.productName}}</p> -->
                            <a class="fw-normal" style="color: #82B4F3;    margin: 0;" href="javascript:void(0);" [routerLink]="'/'+snapshotParam+'/pilotdashboard/'+product.product_id" >Fedo {{product.productName}}</a>


                            <ngb-progressbar style="margin-top: 0;    margin: 0;" [type]="product.status =='Expired' ? 'danger':'warning'" [type]="(product.status =='Expired' ) ? 'danger':'warning'" [value]="(product.status =='Expired' ) ? 100 :(product.pilot_duration-daysLefts(product.end_date) < 0? 0 : product.pilot_duration-daysLefts(product.end_date))" [max]=" (product.status =='Expired' ) ? 100:product.pilot_duration" class=" progress-bar-alt-warning progress-sm"></ngb-progressbar>
                            <p *ngIf="product.status =='Active'"  style="margin-bottom: 0.5rem;">
                      {{daysLefts(product.end_date)}} 
                            days left for pilot to end</p>
                            <span *ngIf="product.status =='Expired'" style="color: #F08F8F;">{{product.status}}</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    <!-- </div> -->
        <!-- <div class="row"> -->
        <div style="width: auto;" *ngIf="orglogin === false">
            <div class="card-body" style="background: #313844;border-radius:10px">

                <div style="padding: 1rem;">
            
                    <div  style="    place-self: self-end;
                    align-self: center;" >
                    <a href="javascript:void(0)" (click)="orgEdit(toggleModal8);">
                        <i class="mdi mdi-plus"></i>
                    </a>
                </div>
            </div>     
            </div>
        </div>  
    </div>


<div class="row" *ngIf="orglogin==false" >
    <div class="col-xl-4 col-md-4" style="display:inline-grid" >
        <div class="card layout-style" style="background: #313844; border-radius:10px">
            <div class="card-body">
                    <div style="grid-auto-flow: column;
                    display: grid; grid-template-columns: auto auto;">
                        <div>
                            <h4 *ngIf="orglogin==false" style="color: white;font-weight:400">Organisation Details</h4>
    
                        </div>
                        <div class=" float-end" ngbDropdown placement="bottom-end" style="    place-self: self-end;
                        align-self: center;" *ngIf="userlogin">
                        <a href="javascript:void(0)" (click)="orgEdit(toggleModal1);prepopulateOrgFormforEdit();" class="dropdown-toggle arrow-none card-drop" ngbDropdownToggle>
                            <i class="mdi mdi-pencil"></i>
                        </a>
                    </div>
                </div>
                    <h4 style="color: #98a6ad;font-weight: 100;
                    font-size: 0.9rem;">Organisation Name</h4>
                    <p class="sub-header" style=" color: #fff;
                    margin-bottom: 0;font-weight: 400;
                    font-size: 1.2rem;
                    line-height: 22px;
                    ">{{organization_name}}</p>
                    <h4 style="color: #98a6ad;font-weight: 100;
                        font-size:0.9rem ;">Country</h4>
                        <p class="sub-header" style=" color: #fff;
                        margin-bottom: 0;
                        font-weight: 400;
                        font-size: 1.2rem;
                        line-height: 22px;">{{country}}</p>
                    <!-- </div>
                    <div> -->
                        <h4 style="color: #98a6ad;font-weight: 100;
                        font-size: 0.9rem;">Zip</h4>
                        <p class="sub-header" style=" color: #fff;
                        margin-bottom: 0;
                        font-weight: 400;
                        font-size: 1.2rem;
                        line-height: 22px;">{{zip}}</p>
                    <!-- </div>
                </div> -->
                <!-- <div class="card-body" > -->
                    <!-- <div> -->
                        <h4 style="color: #98a6ad;font-weight: 100;
                        font-size: 0.9rem;">State</h4>
                        <p class="sub-header" style=" color: #fff;
                        margin-bottom: 0;
                        font-weight: 400;
                        font-size: 1.2rem;
                        line-height: 22px;">{{state}}</p>
                    <!-- </div>
                    <div> -->
                        <h4 style="color: #98a6ad;font-weight: 100;
                        font-size: 0.9rem;">City</h4>
                        <p class="sub-header" style=" color: #fff;
                        margin-bottom: 0;
                        font-weight: 400;
                        font-size: 1.2rem;
                        line-height: 22px;">{{city}}</p>
                        <h4 style="color: #98a6ad;font-weight: 100;
                        font-size: 0.9rem;">Address</h4>
                        <p class="sub-header" style=" color: #fff;
                        margin-bottom: 0;
                        font-weight: 400;
                        font-size: 1.2rem;
                        line-height: 22px;">{{address}}</p>
                    </div>

        </div>
    </div>
    <div class="col-xl-4 col-md-4" style="display:inline-grid" >
        <div class="card layout-style" style="background: #313844; border-radius:10px">
            <div class="card-body">
                    <div style="grid-auto-flow: column;
                    display: grid; grid-template-columns: auto auto;">
                        <div>
                            <h4 *ngIf="orglogin==false" style="color: white;font-weight:400">Org Admin Details</h4>
    
                        </div>
                        <div class=" float-end" ngbDropdown placement="bottom-end" style="    place-self: self-end;
                        align-self: center;" *ngIf="userlogin">
                        <a href="javascript:void(0)" (click)="orgEdit(toggleModal7);prepopulateOrgFormforEdit();" class="dropdown-toggle arrow-none card-drop" ngbDropdownToggle>
                            <i class="mdi mdi-pencil"></i>
                        </a>
                    </div>
                </div>
                    <h4 style="color: #98a6ad;font-weight: 100;
                    font-size: 0.9rem;">Name</h4>
                    <p class="sub-header" style=" color: #fff;
                    margin-bottom: 0;font-weight: 400;
                    font-size: 1.2rem;
                    line-height: 22px;
                    ">{{admin_name}}</p>
                    <!-- <h4 style="color: #98a6ad;font-weight: 100;
                        font-size:0.9rem ;">Org Admin Full Name</h4>
                        <p class="sub-header" style=" color: #fff;
                        margin-bottom: 0;
                        font-weight: 400;
                        font-size: 1.2rem;
                        line-height: 22px;">{{admin_name}}</p> -->
                    <!-- </div>
                    <div> -->
                        <h4 style="color: #98a6ad;font-weight: 100;
                        font-size: 0.9rem;">Designation</h4>
                        <p class="sub-header" style=" color: #fff;
                        margin-bottom: 0;
                        font-weight: 400;
                        font-size: 1.2rem;
                        line-height: 22px;">{{designation}}</p>
                    <!-- </div>
                </div> -->
                <!-- <div class="card-body" > -->
                    <!-- <div> -->
                        <!-- </div>
                            <div> -->
                                <h4 style="color: #98a6ad;font-weight: 100;
                                font-size: 0.9rem;">Email</h4>
                                <p class="sub-header" style=" color: #fff;
                                margin-bottom: 0;
                                font-weight: 400;
                                font-size: 1.2rem;
                                line-height: 22px;">{{organization_email}}</p>
                                
                                <h4 style="color: #98a6ad;font-weight: 100;
                                font-size: 0.9rem;">Mobile</h4>
                                <p class="sub-header" style=" color: #fff;
                                margin-bottom: 0;
                                font-weight: 400;
                                font-size: 1.2rem;
                                line-height: 22px;">{{organization_mobile.slice(3,14)}}</p>
                                
                            </div>
                            
        </div>
    </div>
    <div class="col-xl-4 col-md-4 " style="display:inline-grid" >
        <div  class="card" style="background: #313844; border-radius:10px">
            <h4   style="color: white; margin: 2rem 0 0 2rem">Manage Logo</h4>
            
            <div class="card-body mt-1 mb-0 shadow-none border"  >
                <div  style="align-self: center;">
                    <div class="row align-items-center" style="    place-content: center; margin-bottom:1.3rem">
                    <img [src]="srcImage" alt="update an image" style="width: 90%; height: 160px;border-radius: 5px;  border: 2px dashed #717386; margin-bottom: 1rem;" >
                </div>
                </div>
                


                <div *ngIf="userlogin" style="    display: flex;
                place-content: center;
                column-gap: 1rem;">
             <div class="col-xl-4 col-lg-5 col-md-5 col-sm-3"style="background: #3C424F; align-self: center;border-radius: 6px !important; height:5rem">
                    <ngx-dropzone (change)="onSelect($event)" class="dropzone" style="background: #3C424F; border: none; height: 0;   margin:0;
                    border-radius: 5px; overflow: hidden;padding-top: 1rem;"
                    accept="image/jpeg,image/jpg,image/png,image/gif">
                    <ngx-dropzone-label >
                        <i class="h1 text-muted dripicons-cloud-upload" style="font-size: x-large;"></i>
                        <p style="text-align: center; font-size: 13px; color: #9BA6AC;">Upload Another</p>
       
                    </ngx-dropzone-label>
                </ngx-dropzone>
            </div>

                <div class="col-xl-3 col-lg-4 col-md-4 col-sm-2" style="background: #3C424F;    align-self: center; border-radius: 6px !important; height:5rem;padding-top: 0.3rem">
       
                        <a href="javascript:void(0)" class="btn btn-link btn-lg text-muted" style="padding: 0;display:inherit;    margin-bottom: 0.3rem;"
                        (click)="onRemove($event)">
                        <img src="./assets/images/Vector.png"  style="font-size: x-large;">
                    </a>
                    <p style="text-align: center; font-size: 13px;    margin-bottom: 18px; color: #9BA6AC;">Delete Logo</p>

                </div>
            </div>
                

                </div>
        </div>


    </div>

    
</div>
    
    

<ng-template *ngIf=false ngFor let-season [ngForOf]="graphArray" let-i=index> 

    <div class="row"  >
    <div class="col-xl-6 " style="display: inline-grid;" >
        <div class="card layout-style" style="background: #313844; border-radius:10px">
            
                <div class="card-body">

                <div class="float-end" ngbDropdown placement="bottom-end">
                    <a href="javascript:void(0);" class="arrow-none card-drop" ngbDropdownToggle>
                        <i class="mdi mdi-dots-vertical"></i>
                    </a>
                    <div ngbDropdownMenu>
                        <a href="javascript:void(0);" [routerLink]="'/'+snapshotParam+'/report/'+season.prodId" [queryParams]="{ created_date : created_date , organization_name : organization_name }" ngbDropdownItem>View Report</a>
                        <a href="javascript:void(0);" (click)="exportexcel(season.data,season.prodId)" ngbDropdownItem>Download Excel Report</a>
                    </div>

                </div>

                <h4 class="header-title mt-0 mb-3" style="color: white;">Fedo  {{season.name}}: Daily Scan Report</h4>

                <div class="col-sm-6" >
                    <input style="width: auto;" class="form-control" id="example-date" [(ngModel)]='season.date' (change)="checkdate($event,season.prodId,season.date)" type="date" min="{{created_date|date:'yyyy-MM-dd'}}" max="{{todayDate|date:'yyyy-MM-dd'}}" name="date">
                </div> <!-- end col -->

                <div class="BarGraph-container" style="display: grid;grid-template-columns: repeat(auto-fill, minmax(14rem , 1fr));" >
                    <div style="justify-self: center;">

                <!-- <div style="display: grid;grid-template-columns:max-content max-content;grid-gap: 1rem; margin-top: 3rem;"> -->
                    <div style="gap: 1rem;
                    display: inline-flex;margin-top: 3rem;">
                    <div style=" align-self: center; color:#ADB5BD;display: grid;
                    grid-gap: 1rem;">
                        <p style="font-size: 1.2rem;margin: 0;">Total Scans</p>
                        <p style="font-size: 1.2rem;margin: 0;">Standard Mode Scans</p>
                        <p style="font-size: 1.2rem;margin: 0;">Event Mode Scans</p>
                    </div>
                    <div  style=" align-self: center; color:#F5F5F5;display: grid;
                    grid-gap: .45rem;">
                        <div class="grid-class"><p>: &nbsp;  </p> <p style="color: #F2CA65; font-size: 1.7rem; font-weight: 500; margin: 0;"> {{season.totalScans}}</p></div>
                        <div class="grid-class"><p>: &nbsp; </p> <p style="color: #82B4F3; font-size: 1.7rem; font-weight: 500; margin: 0;"> {{season.standardModeScans}}</p></div>
                        <div class="grid-class"><p>: &nbsp;  </p> <p style="color: #FF9632; font-size: 1.7rem; font-weight: 500; margin: 0;"> {{season.eventModeScans}}</p></div>
                    </div>
                </div>
                <!-- </div> -->
                    <div style="    margin-top: 4rem;">
                        <img src="./assets/images/excel-icone.png"> &nbsp;
                        <a style="font-size: 1.2rem;
                        margin: 0;
                        color: #ADB5BD;text-decoration-line: underline; cursor: pointer;" (click)="exportexcel(season.data,season.prodId)">Download Excel Report</a>
                       
                       
                      </div>
                    

                </div>
                
<div style="display: grid;">
                <div class="chartjs-chart" style="height: 300px;width:75%">
                    <canvas id="bar-chart" #barChart baseChart [data]="season.graph.data!" [legend]="false"
                        [type]="season.graph.type!" [options]="season.graph.chartOptions!"></canvas>
                </div>
                <!-- <div></div> -->
                <div style="    display: inline-flex;
                gap: 1rem;justify-self: center;    place-items: baseline; margin-top:1rem;">
                    <div style="background-color:RGBA(104, 116, 129, 0.5);height: 5px;width:20px"></div><p style="color:#ADB5BD">Previous</p>
                    <div style="background-color:RGBA(242, 202, 101, 0.5);height:5px;width:20px"></div><p style="color:#ADB5BD">Current</p>
                </div>
            </div>
                </div>
            </div>
        </div>

    </div>
    <div class="col-xl-6" style="display: inline-grid;" >
    <div class="card layout-style" style="background: #313844; border-radius:10px">
        <div class="card-body">
    
            <h4 class="header-title mt-0 mb-3" style="color: white;">Fedo {{season.name}}: Performance Chart</h4>
            <div class="col-sm-6">
                <div ngbDropdown class="mt-sm-0 mt-2 mb-2">
                    <a style="background: #383E4A;
                    color: #9BA6AC;
                    border-color: #444C5B;" class="btn btn-light" href="javascript:void(0)" role="button" id="dropdownLink"
                        ngbDropdownToggle>
                        Current vs Previous {{season.performance.period.charAt(0).toUpperCase()+season.performance.period.slice(1).slice(0,-2)}} <i class="mdi mdi-chevron-down"></i>
                    </a>
                    <div ngbDropdownMenu aria-labelledby="dropdownLink">
                        <a (click)="fetchTimely(season.prodId,'weekly')" ngbDropdownItem>Current vs Previous Week</a>
                        <a (click)="fetchTimely(season.prodId,'monthly')" ngbDropdownItem>Current vs Previous Month</a>
                        <a  (click)="fetchTimely(season.prodId,'quarterly')"ngbDropdownItem>Current vs Previous Quarter</a>
                        <a (click)="fetchTimely(season.prodId,'yearly')" ngbDropdownItem>Current vs Previous Year</a>

                    </div>
                </div>
            </div> 
            

            <div class="graph-container" style="display: grid;grid-template-columns: repeat(auto-fill, minmax(14rem , 1fr)); ">
            <div dir="ltr" style="padding: 0.5rem;">
                <apx-chart class="apex-charts mt-2" [series]="season.performance.graph.series!" [chart]="season.performance.graph.chart!"  [plotOptions]="season.performance.graph.plotOptions!"
                    [dataLabels]="season.performance.graph.dataLabels!" [legend]="season.performance.graph.legend!" [fill]="season.performance.graph.fill!"
                    [grid]="season.performance.graph.grid!" [xaxis]="season.performance.graph.xaxis!" [yaxis]="season.performance.graph.yaxis!"
                    [stroke]="season.performance.graph.stroke!" [tooltip]="season.performance.graph.tooltip!" [colors]="season.performance.graph.colors!">
                </apx-chart>
                <div style="    display: inline-flex;
                gap: 0.8rem;margin-left:3rem;    place-items: baseline;">
                    <div style="background-color:#82B4F3;height: 5px;width:20px"></div><p style="color:#ADB5BD">Current</p>
                    <div style="background-color: #F08FC9;height:5px;width:20px"></div><p style="color:#ADB5BD">Previous</p>
                </div>
            </div>
            
            <div style="justify-self: center;">
            <div style="display: grid;grid-template-columns:max-content max-content;grid-gap: 1rem;">
                <div style=" align-self: center; color:#ADB5BD;display: grid;
                grid-gap: 1rem;">
                    <p style="font-size: 1.2rem;margin: 0;">Current {{season.performance.period.charAt(0).toUpperCase()+season.performance.period.slice(1).slice(0,-2)}}</p>
                    <p style="font-size: 1.2rem;margin: 0;">Previous {{season.performance.period.charAt(0).toUpperCase()+season.performance.period.slice(1).slice(0,-2)}}</p>
                    <p style="font-size: 1.2rem;margin: 0;">Variance</p>
                </div>
                <div  style=" align-self: center; color:#F5F5F5;display: grid;
                grid-gap: .45rem;">
                    <div class="grid-class"><p>: &nbsp;  </p> <p style="color: #82B4F3; font-size: 1.7rem; font-weight: 500; margin: 0;"> {{season.performance.currentMonth}}</p></div>
                    <div class="grid-class"><p>: &nbsp; </p> <p style="color: #F08FC9; font-size: 1.7rem; font-weight: 500; margin: 0;"> {{season.performance.previousMonth}}</p></div>
                    <div class="grid-class"><p>: &nbsp;  </p> <p *ngIf="season.performance.varience>0" style="color: #5AC172; font-size: 1.6rem; font-weight: 500; margin: 0;"> {{season.performance.varience.toFixed(1)}}%<i class="fe-arrow-up"></i></p>
                        <p *ngIf="season.performance.varience<0" style="color:red ; font-size: 1.6rem; font-weight: 500; margin: 0;"> {{season.performance.varience.toFixed(1)}}%<i class="fe-arrow-down"></i></p>
                        <p  *ngIf="season.performance.varience==0 || season.performance.varience=='' "  style="color:#FF9632 ; font-size: 1.7rem; font-weight: 500; margin: 0;"> {{season.performance.varience}}%</p>
                    </div>
                </div>
            </div>
                <div>
                    <p style="font-size: 1.2rem;margin: 0;color:#ADB5BD;margin-top: 2rem;">Top Performer (User):</p>
                    <p style="font-size: 1.2rem;margin: 0;color:#82B4F3;min-width: max-content;">Current &nbsp; &nbsp;&nbsp;&nbsp;<span style="color:#FFFFFF">:&nbsp;{{season.performance.currentUserNmae}}</span></p> 
                    <p style="font-size: 1.2rem;margin: 0;color:#F08FC9;min-width: max-content;">Previous &nbsp; &nbsp;<span style="color:#FFFFFF">:&nbsp;{{season.performance.PreviouseUserName}}</span>   </p>
            </div>
                

            </div>
            </div>
        </div>
    </div>
    </div>


    </div>
</ng-template>
  



<!-- <div class="row" *ngIf="orglogin == false" >
    <div class="col-xl-6 col-md-6">
        <div class="card" style="background: #313844; border-radius:10px">
                <div class="card-body" *ngIf="orglogin == false" style="grid-auto-flow: column;
                display: grid; padding-bottom: 0;padding-left: 0.7rem; ">
                    <div >
                        <h4 class="sub-header" style=" color: #fff;
                        margin-bottom: 0;
                        font-size: large;">Settings</h4>
                    </div>
                    <div class=" float-end" ngbDropdown placement="bottom-end" style="    place-self: self-end;
                    align-self: center;">
                        <a (click)="orgEdit(toggleModal2);" href="javascript:void(0)" class="dropdown-toggle arrow-none card-drop" ngbDropdownToggle [hidden]="false">
                            <i class="mdi mdi-pencil"></i>
                        </a>
                    </div>
                </div>
                <div class="row">
                <div class="card-body" style="display: grid; ">
                    <div style="border-bottom-width: 1px;padding-bottom: 1rem;border-bottom-style: dotted;">
                        <h4 style="color: #98a6ad;">Org URL:</h4>
                        <p class="sub-header" style="
                        margin-bottom: 0;
                        font-size: initial;">https://www.fedo.ai/admin/ <span style="color: #FFF;font-weight: 500;">{{url}}</span></p>
                    </div>
                    <ng-template ngFor let-season [ngForOf]="product" let-i=index> 
                        <div style="border-bottom-width: 1px;
                        padding-bottom: 1rem;margin-bottom: 1rem;border-bottom-style: dotted;
                      ">
                        <div style="margin-top: 1rem;">
                            <h4 style="color: #98a6ad;"> Fedo {{season.product_id === '1' ? 'HSA' : (season.product_id === '2' ? 'Vitals':'RUW' )}}</h4>
                            <p class="sub-header" style="margin-bottom: 0;font-size: large;">Apps</p>
                        </div>
                        <div style="
                        
                        display: grid;
                        grid-auto-flow: column;
                        grid-gap: 1rem;
                        padding-top: 1rem;
                        grid-template-columns: min-content;">
                        <a *ngIf="season.url.mobile_url !== null"  class='cursor-pointer' style="cursor: pointer;" (click)="playstore(season.url,'mobile')" >
                            <img src="./assets/images/get-it-on-google-play-google-play-badge-png-logos-23 1.png" style="height: 3.5rem;">
                        </a>
                        <a *ngIf="season.url.web_url !== null"  class='cursor-pointer' (click)="playstore(season.url,'web')" >
                            <button  style="height: 3.5rem;width: 10.3rem; background-color: black; color: white;  border-radius: 11px;"> {{season.product_id === '1' ? 'HSA' : (season.product_id === '2' ? 'Vitals':'RUW' )}} Web App</button>
                        </a>
                        </div>
                        <div class="col-xl-5 card-body" style="padding-left:0">
                            <p style="
                            margin-bottom: 0.5rem;
                            ">Pilot Duration({{ daysLefts(season.end_date) < 0 ? season.pilot_duration:  season.pilot_duration - daysLefts(season.end_date)  }} of {{season.pilot_duration}} days)</p>
                            <ngb-progressbar style="margin-top: 0;" [type]="season.status =='Expired' ? 'danger':'warning'" [type]="(season.status =='Expired' ) ? 'danger':'warning'" [value]="(season.status =='Expired' ) ? 100 :(season.pilot_duration-daysLefts(season.end_date) < 0? 0 : season.pilot_duration-daysLefts(season.end_date))" [max]=" (season.status =='Expired' ) ? 100:season.pilot_duration" class=" progress-bar-alt-warning progress-sm"></ngb-progressbar>
                        </div>
                        <div>
                            <h4 style="color: #98a6ad;">Fedo Score:</h4>
                            <div class="form-check form-switch" style=" display: block;">
                                <input style="pointer-events: none;" type="checkbox" class="form-check-input" [checked]="season.fedoscore" id="customSwitch1">
                                <h5 style="color: white; margin-left:0.5rem" *ngIf="season.fedoscore==false">Disabled</h5>
                                <h5 style="color: white; margin-left:0.5rem " *ngIf="season.fedoscore==true">Enabled</h5>
                            </div>
                        </div>
                    </div>  



                    </ng-template>
                       </div>   
            </div>
        </div>
    </div>

   
</div> -->

<div class="card" style="background: #313844; border-radius:10px" >
    <div class="card-body">
        <div class=" float-end" ngbDropdown placement="bottom-end">
            <a href="javascript:void(0)" class="dropdown-toggle arrow-none card-drop" ngbDropdownToggle>
                <i class="mdi mdi-dots-vertical"></i>
            </a>
            <div style="    border: 1px solid #4B515F;" ngbDropdownMenu>
                <a href="javascript:void(0);" (click)="open(toggleModal3);setValue(tabDAta[0]); " ngbDropdownItem>Create User</a>
                <a href="javascript:void(0);" [routerLink]="orglogin ? '/'+id+'/userdetails':'/userdetails/'+id"  ngbDropdownItem>User List</a>

            </div>
        </div>            
        <div class=" float-end" ngbDropdown placement="bottom-end">
            <a href="javascript:void(0)" (click)="open(toggleModal3);setValue(tabDAta[0]);" class="dropdown-toggle arrow-none card-drop" ngbDropdownToggle>
                <i class="mdi mdi-plus"></i>
            </a>
        </div>            
        <h4 class="mt-0 header-title"  style="color: white;cursor:pointer" href="javascript:void(0);" [routerLink]="orglogin ? '/'+id+'/userdetails':'/userdetails/'+id">Recent 5 Users</h4>

        <div class="table-responsive" >
            <table class="table advanced-table table-nowrap mb-0">
                <thead style=" font-weight: 700;   color: #9BA6AC;     border-color: #9BA6AC;">
                    <tr  style="border-color: #49565d;" >
                        <th>#</th>
                        <th></th>
                        <th>Name</th>
                        <th>Email</th>
                        <th>Mobile</th>
                        <th>Employee Of</th>
                        <th style="    text-align: -webkit-center;">Created Date</th>
                        <th style="    text-align: -webkit-center;">Total Tests</th>
                        <th></th>
                    </tr>
                </thead>
                <tbody style=" font-weight: 400;  color: #9BA6AC;    border-color: #49565d;">
                    <tr class="over-hover" style="border-color: #49565d;"  *ngFor="let person of tableData;let indexOfelement=index;">
                        <td scope="row">{{indexOfelement+1}}</td>
                        <td *ngIf="person.is_deleted===false"><div class="tooltip-new"><img src="./assets/images/User Status - Active.png"> <span class="tooltiptext">Active User</span></div></td>
                        <td *ngIf="person.is_deleted===true"><div class="tooltip-new"><img src="./assets/images/User Status - Inactive.png"> <span class="tooltiptext">Inactive User</span></div></td>
                        <td style="cursor:pointer" [routerLink]="'/'+person.org_id+'/home/'+person.id"  href="javascript:void(0);">{{person.user_name&&person.type=='OrgAdmin'? person.user_name + ' (OA)': person.user_name}}</td>
                        <td style="cursor:pointer" [routerLink]="'/'+person.org_id+'/home/'+person.id"  href="javascript:void(0);">{{person.email}}</td>
                        <td style="cursor:pointer" [routerLink]="'/'+person.org_id+'/home/'+person.id"  href="javascript:void(0);" >{{person.mobile.slice(3,14)}}</td>
                        <td style="cursor:pointer" [routerLink]="'/'+person.org_id+'/home/'+person.id"  href="javascript:void(0);">{{person.tpa_name != null ? (person.tpa_name==''? 'Direct':person.tpa_name+ '(TPA)') :'Direct'}}</td>
                        <td style="    text-align: -webkit-center;cursor:pointer" [routerLink]="'/'+person.org_id+'/home/'+person.id"  href="javascript:void(0);">{{person.created_date | date: 'dd/MM/yyyy'}}</td>
                        <td style="    text-align: -webkit-center; color: #F2CA65;cursor:pointer" [routerLink]="'/'+person.org_id+'/home/'+person.id"  href="javascript:void(0);">{{person.total_test}}</td>
                        <td class="option">
                            <div class=" float-end" ngbDropdown placement="bottom-end" >
                                <a href="javascript:void(0)" class="dropdown-toggle arrow-none card-drop" ngbDropdownToggle>
                                    <i class="mdi mdi-dots-vertical"></i>
                                </a>
                                <div style="    border: 1px solid #4B515F;" class="kanban_style" ngbDropdownMenu>
                                    <a [routerLink]="'/'+person.org_id+'/home/'+person.id"  href="javascript:void(0);" ngbDropdownItem>User Info</a>
                                    <a (click)="editUserForm(person)"  href="javascript:void(0);" ngbDropdownItem>Edit User</a>
                                <div style="display: flex;
                                    align-items: center;">
                                    <div *ngIf="person.is_deleted===false" href="javascript:void(0);"  ngbDropdownItem>Status (<span style="color: green;">Active</span> / Inactive)</div>
                                    <div *ngIf="person.is_deleted===true" href="javascript:void(0);"  ngbDropdownItem>Status (Active / <span style="color:red;">Inactive</span>)</div>
                                    
                                    <div class="form-check form-switch" >
                                        <input type="checkbox" [(ngModel)]="!person.is_deleted" [ngModelOptions]="{standalone: true}" class="form-check-input" (ngModelChange)="updateStatus($event,person)"  id="customSwitch1">
                                </div>
                            </div>
                            <div *ngIf="person.is_register===false" href="javascript:void(0);" style="cursor: pointer;" (click)="resendInvitationMail(person)"  ngbDropdownItem>Resend Invitation

                            </div>
                        </div>

                            </div> 
                        </td>
                    </tr>
                </tbody>
            </table>
            <p style="margin-top: 0.5rem;
            text-align: left;">OA - Organization Admin</p>

        </div>
    </div>

</div>

<ng-template #toggleModal4 let-modal>
    <div class="card" style="background-color: #282E38;margin-bottom: 0; border-radius: 4px;">
        <div class="card-body" style="  border-radius: 4px;    background-color: #EC6661;min-width: min-content;     display: grid;
        grid-gap: 2rem;">
                <div style="text-align:center">
                    <img src="./assets/images/Alert.png" style="width:8%">
                </div>
   
            <h3 class="mt-0" style="color: #fff;    text-align: center;">Alert!</h3>

            <p style="text-align: center;font-size: 1rem; color: #fff; line-height: 1.3rem;">
                The {{product[0].pilot_duration +" days" }} Pilot of your organisation has expired.<br/>
            You will not be able to perform any activities from your account now.<br/>
                                    <br/>
            We hope you were able to do enough scans and compare app data with physical data?<br/>
                                    <br/>
            We will get in touch with you shortly to discuss how we can continue the association going forward.<br/>
                                    <br/>
                    Good day!
            </p>
            
                    <div style="text-align:center">
                        <button type="button" style="width: 22rem;background: #3C424F;border: 1px solid #FFFFFF; border-radius: 4px;" (click)="closeUser()" class="btn btn-info" >Notify Fedo</button>
                    </div>
        </div>

    </div> 
</ng-template>

<ng-template #toggleModal5 let-modal>

    <div class="card" style="background-color: #EC6661;margin-bottom: 0;">
        <div class="card-body" style="   min-width: min-content;border-radius: 4px;    background-color: #EC6661;  display: grid;
        grid-gap: 2rem;    place-items: center;">
                <div style="text-align:center">
                    <img src="./assets/images/Alert.png" style="width:8%">
                </div>
   
            <h3 class="mt-0" style="color: #fff;    text-align: center;">Alert!</h3>

            <p style="text-align: center;   font-size: 1rem;color: #fff; line-height: 1.3rem;"> Your account is inactive. <br/> <br/>Hence you will not be able to access your account neither use the Vitals App. You may contact Fedo for any assistance. <br/> <br/> Good day!</p>
                    <div style="text-align:center;">
                        <button type="button" style="width: 22rem;border-radius: 4px;background: #3C424F;
                        border: 1px solid #FFFFFF;
                        border-radius: 4px;" class="btn btn-info" (click)="closeInactiveUser()" >Notify Fedo</button>
                    </div>
        </div>

    </div> 
</ng-template>

<ng-template #toggleModal6 let-modal>
    <div class="card" style="background-color: #282E38;margin-bottom: 0;">
        <div class="card-body" style="    background-color: #282E38;min-width: min-content;">
            <div class=" float-end" ngbDropdown placement="bottom-end">
                <a href="javascript:void(0)" class="dropdown-toggle arrow-none card-drop" (click)="modal.dismiss('');basicWizardForm.reset();list=3;reloadCurrentPage()" ngbDropdownToggle>
                    <i class="mdi mdi-close"></i>
                </a>
            </div>            
            <h4 style="color: white;">Edit User</h4>
    
            <form [formGroup]="userEditForm" #basicForm="ngForm">
                <div id="basicwizard">
                    <ul ngbNav #basicWizard="ngbNav" [(activeId)]="activeWizard1"
                        class="nav-pills nav-justified form-wizard-header mb-4" style="display: grid;
                        grid-template-columns: repeat(auto-fill, minmax(7rem , 5fr)); background-color: #313844;">
                        <li [ngbNavItem]="1">
                            <a [ngStyle]=" activeWizard1>1 ? ngstyle():null" ngbNavLink class="rounded-0 pt-2 pb-2">
                                <span class=" d-sm-inline">User Details</span>
                            </a>
                            <ng-template ngbNavContent>
                                <div class="row" >
                                    <div class="col-12">
                                        <div class="row ">
                                            <div class="col-md-6">
                                                <div class="form-floating mb-3">
                                                    <input type="text" class="form-control" id="userName1" style=" height: 3rem; color: #9BA6AC"
                                                    oninput=" this.value = this.value.replace(/[0-9]/g,'')" 
                                                    pattern="^([a-zA-Z]{2,}\s[a-zA-Z]{1,}'?-?[a-zA-Z]{2,}\s?([a-zA-Z]{1,})?)"
                                                    [ngClass]="{'is-invalid':userEditForm.controls['user_name'].touched && userEditForm.controls['user_name'].invalid || formSubmitted && userEditForm.controls['user_name'].invalid}"
                                                    
                                                        name="userName" placeholder="User Full Name" required formControlName="user_name">
                                                        <label for="floatingInput" style="font-size: 0.8rem;color: #9BA6AC" class="form-label" i18n>User Full Name</label>
                                                       
                                                    <div *ngIf="userEditForm.controls['user_name'].touched && userEditForm.controls['user_name'].invalid || formSubmitted && userEditForm.controls['user_name'].invalid" class="invalid-feedback">

                                                        <div *ngIf="userEditForm.controls['user_name'].errors?.['required']" i18n>
                                                          Mandatory field
                                                        </div>
                                                        <div *ngIf="userEditForm.controls['user_name'].errors?.['pattern']" i18n>
                                                          Invalid name format. Please enter your full name
                                                        </div>
                                                      </div>
                                                
                                                      </div>
                                        </div>
                                            <div class="col-md-6">
                                                <div class="form-floating mb-3">
                                                    <input type="text" class="form-control" id="userName1" style="  height: 3rem;
                                                    color: #9BA6AC" formControlName="designation" minlength="3"
                                                    oninput=" this.value = this.value.replace(/[0-9]/g,'')" 
                                                    [ngClass]="{'is-invalid':userEditForm.controls['designation'].touched && userEditForm.controls['designation'].invalid || formSubmitted && userEditForm.controls['designation'].invalid}"

                                                        name="userName" placeholder="Designation" required>
                                                    <label for="floatingInput" style="font-size: 0.8rem;color: #9BA6AC" class="form-label" i18n>Designation</label>
                                                <div *ngIf="userEditForm.controls['designation'].touched && userEditForm.controls['designation'].invalid || formSubmitted && userEditForm.controls['designation'].invalid" class="invalid-feedback">

                                                    <div *ngIf="userEditForm.controls['designation'].errors?.['required']" i18n>
                                                      Mandatory field
                                                    </div>
                                                    <div *ngIf="userEditForm.controls['designation'].errors?.['minlength']" i18n>
                                                      Enter full designation
                                                    </div>
                                                  </div>
                                                    </div>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-md-6">
                                                <div class="form-floating mb-3">
                                                    <input type="text" class="form-control" id="userName1" style=" height: 3rem;color: #9BA6AC"
                                                        name="userName" placeholder="Email Address" required formControlName="email" [readonly]="true"
                                                        pattern="^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$"
                                                    [ngClass]="{'is-invalid':userEditForm.controls['email'].touched && userEditForm.controls['email'].invalid || formSubmitted && userEditForm.controls['email'].invalid}">
                                                    <label for="floatingInput" style="font-size: 0.8rem;color: #9BA6AC" class="form-label" i18n>Email Address</label>
                                                    
                                                <div *ngIf="userEditForm.controls['email'].touched && userEditForm.controls['email'].invalid || formSubmitted && userEditForm.controls['email'].invalid" class="invalid-feedback">

                                                    <div *ngIf="userEditForm.controls['email'].errors?.['required']" i18n>
                                                      Mandatory field
                                                    </div>
                                                    <div *ngIf="userEditForm.controls['email'].errors?.['pattern']" i18n>
                                                      Invalid email format. Please enter valid email format
                                                    </div>
                                                  </div>
                                                </div>
                                            </div>
                                            <div class="col-md-6">
                                                <div class="form-floating mb-3">
                                                    <input oninput="this.value=this.value.slice(0,this.maxLength)" matInput maxlength="10"  type="number" class="form-control" id="userName1" style=" height: 3rem;color: #9BA6AC"
                                                        name="userName" placeholder="Mobile Number" formControlName="mobile"  
                                                    [ngClass]="{'is-invalid':userEditForm.controls['mobile'].touched && userEditForm.controls['mobile'].invalid || formSubmitted && userEditForm.controls['mobile'].invalid}">
                                                 <label for="floatingInput" style="font-size: 0.8rem;color: #9BA6AC" class="form-label" i18n>Mobile Number</label>
                                                 
                                            <div *ngIf="userEditForm.controls['mobile'].touched && userEditForm.controls['mobile'].invalid || formSubmitted && userEditForm.controls['mobile'].invalid" class="invalid-feedback">

                                                <div *ngIf="userEditForm.controls['mobile'].errors?.['required']" i18n>
                                                  Mandatory field
                                                </div>
                                                <div *ngIf="userEditForm.controls['mobile'].errors?.['pattern']" i18n>
                                                  Invalid format. Please enter valid format
                                                </div>
                                              </div>

                                                    </div>
                                            </div>
                                        </div>  
                                        
                                        <div class="mb-3" style="display: grid; grid-template-columns: auto auto" >
                                            <div class="form-check">
                                              <input type="radio" id="customRadio1" name="customRadio" (change)="change(false)" [checked]="notThirdParty"  class="form-check-input" />
                                              <label class="form-check-label" for="customRadio1">Own Employee</label>
                                            </div>
                                            <div class="form-check">
                                              <input type="radio" id="customRadio2" name="customRadio" (change)="change(true)" [checked]="thirdParty"  class="form-check-input" />
                                              <label class="form-check-label" for="customRadio1">Employee of TPA</label>
                                        </div>
                                        <div *ngIf="formSubmitted && thirdParty==false&& notThirdParty==false" style="width: 100%; margin-top: 0.25rem;font-size: 0.75rem;  color: #F08F8F;">
                                                  Mandatory field
                                              </div>
                                      </div>
                                      <div class="form-floating" style="display: flex; padding-bottom: 1rem; " *ngIf="thirdParty == true" >
                                        <input type="text" class="form-control" id="userName1" style="
                                            background: #383e4a;
                                            border: 1px solid #444c5b;
                                            border-radius: 4px;color: #9BA6AC" name="userName" (input)="editInputTpa()" placeholder="Select third-party Company or Add New" formControlName="third_party_org_name" list="codes" minlength="3" />
                                            <label for="floatingInput" style="font-size: 0.8rem;color: #9BA6AC" required class="form-label" i18n>Select third-party Company or Add New</label>
                                        <datalist id="codes" style="background: white">
                                          <option *ngFor="let c of codeList" >
                                            {{ c }}
                                          </option>
                                        </datalist>
                                        <!-- <div > -->
                                        <button *ngIf="showButton&&changeButton && userEditForm.controls['third_party_org_name'].value.length>=3" (click)="editAddTpa()" id="erase" style="
                                            background: #383e4a;
                                            height: 3.6rem;
                                            border: 1px solid #444c5b;
                                            border-radius: 4px;
                                            color: grey;
                                            padding-right: 0.5rem;
                                            padding-left: 0.5rem;">+</button>

                                            <button *ngIf="addTpafunc" class="mdi mdi-check-all" id="erase" style="
                                            background: #084b23;
                                            height: 3..6rem;
                                            border: 1px solid #444c5b;
                                            border-radius: 4px;
                                            color: grey;
                                            padding-right: 0.5rem;
                                            padding-left: 0.5rem;"></button>
                                        <!-- </div> -->
                                      </div>

                                      <div class="mb-3" *ngIf="userEditForm.controls['third_party_org_name']?.touched && thirdParty==true" style="width: 100%; font-size: 0.75rem; color: #F08F8F;">
                                                  <div *ngIf=" userEditForm.controls['third_party_org_name'].errors?.['minlength']" i18n>
                                                    Enter full Third Party Name
                                                  </div>
                                              </div>
                                    </div> <!-- end col -->
                                </div> <!-- end row -->
         
                            </ng-template>
                        </li>

                        <li [ngbNavItem]="2">
                            <a [ngStyle]=" activeWizard1 > 2 ? ngstyle():null" ngbNavLink class="rounded-0 pt-2 pb-2"style="pointer-events:none">
                                <span class=" d-sm-inline">Products</span>
                            </a>
                                          <ng-template ngbNavContent>
                                            <div style="display: grid;
                                            grid-template-columns:repeat(auto-fill, minmax(8rem , 5fr));
                                            grid-gap: 1rem;margin-bottom: 2rem;">
                                                        <ng-template ngFor let-season [ngForOf]="userProduct" let-i=index>
                                                            <div class="gal-detail thumb" style="    width: 142px;
                                                            height: 180px;
                                                            background: #3C424F;
                                                            border-radius: 8px;margin:0%">
                                                                <a href="javascript:void(0)" class="image-popup" title="hi">
                                                                </a>
                                                                <div style="    text-align: -webkit-center;
                                                                display: grid;
                                                                justify-items: center;
                                                                grid-gap: 1rem; margin-top: 0.5rem;">
                                                                    <div class="avatar-md">
                                                                        <span class="avatar-title bg-soft-secondary text-secondary font-20 rounded-circle">
                                                                            F{{season.product_name.charAt(0)}}
                                                                        </span>
                                                                    </div>
                                                                    <p class="text-muted mb-1">Fedo {{season.product_name === 'vitals' ? 'Vitals' : season.product_name}}</p>
                                                                    <div class="form-check form-switch" style=" display: grid;justify-items: center;">
                                                                        <input type="checkbox" [checked]="season.checked"  [ngStyle]="{'pointer-events': season.noPenetration ? 'none':'fill'}"  (change)="updateEditUserProd($event,season)" class="form-check-input" id="customSwitch1">
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </ng-template>
                                            </div>
                                        </ng-template>
                                         
                        </li>
                        <ng-template ngFor let-season [ngForOf]="listdetails" let-i=index>                        
                            <li [ngbNavItem]="3+i">
                            <a [ngStyle]=" activeWizard1 > 2+i ? ngstyle():null" ngbNavLink class="rounded-0 pt-2 pb-2">
                                <!-- <i class="mdi mdi-face-profile me-1"></i> -->
                                <span class=" d-sm-inline">Config {{season.product_name}}</span>
                            </a>
                            <ng-template ngbNavContent>
                                    <div class="row grid-container ">
                                        <div class="">
                                            <div class="card">
                                                <div class="card-body" style="padding-left: 0;">
                                                    
                                                            
                                                            <div class="form-floating ">
                                                                <input oninput="this.value=this.value.slice(0,this.maxLength)" matInput maxlength="6" type="number" class="form-control" id="userName1" style=" height: 3rem; color: #9BA6AC; width: 50%;"
                                                                    name="userName" placeholder="Zip" required [(ngModel)]="season.attempts" [ngModelOptions]="{standalone: true}" >
                                                                    <label for="floatingInput" style="font-size: 0.8rem;   color: #9BA6AC;" class="form-label" i18n>Attempts</label> 
                                                                    
                                                            </div>
                                                            
                                                        
                                            </div>

                                        </div>

                                    </div>
                                </div>
                                </ng-template>
                        </li>
                        </ng-template>



                        <li [ngbNavItem]="list_number">
                            <a style="pointer-events: none;" ngbNavLink class="rounded-0 pt-2 pb-2">
                                <span class=" d-sm-inline">Finish</span>
                            </a>
                            <ng-template ngbNavContent>
                                <div class="row">
                                    <div class="col-12">
                                        <div class="text-center">
                                            <h2 class="mt-0"><i class="mdi mdi-check-all" style="color: #fff;"></i></h2>
                                            <h3 class="mt-0" style="color: #fff;">Success !</h3>

    
                                            <p style="color: #AEB5BC;" class="w-75 mb-2 mx-auto">Your changes have been saved successfully.</p>
                                        </div>
                                    </div>
                                </div> 
                            </ng-template>
                            
                        </li>
                    </ul>
    
                    <div [ngbNavOutlet]="basicWizard" class="b-0 mb-0 pt-0"></div>
                    <ul class="list-inline mb-0 wizard" >
                        <div id="liveAlertPlaceholder">
                            <ngb-alert type="warning" *ngIf="showLiveAlertAPI" (closed)="showLiveAlertAPI = false">{{errorMessageAPI}}</ngb-alert>
                        </div>
                        <li class="previous list-inline-item" *ngIf="!(activeWizard1 == list_number)">
                            <button class="btn btn-secondary" (click)="activeWizard1=activeWizard1-1" 
                                >Previous</button>
                 
                        </li>
                        <li class="next " style="text-align: center;" *ngIf="activeWizard1 == list_number">
                        <!-- <li class="next " style="text-align: center;" *ngIf="activeWizard1 == 2"> -->
                            <div style="    display: grid;
                            grid-template-columns: min-content max-content;
                            justify-content: center;
                            grid-gap: 0.5rem;">
                                <button style="width: 6rem;" type="button" class="btn btn-secondary" (click)="modal.dismiss('');userForm.reset();reloadCurrentPage();"
                                    >Close</button>
                            </div>
                        </li>
                        <li class="next list-inline-item float-end" *ngIf="activeWizard1 == list_number-1">
                            <button type="button" style="width: 100px;" class="btn btn-info" (click)="editUser()">Submit</button>
                        </li>
                        <li class="next list-inline-item float-end" *ngIf="activeWizard1 < list_number-1">
                            <button type="button" style="width: 100px;" (click)="activeWizard1=activeWizard1+1" class="btn btn-info">Next</button>
                        </li>
                    </ul>
    
    
    
                </div> <!-- end #basicwizard-->
            </form>
    
        </div> <!-- end card-body -->
    </div> <!-- end card-->
</ng-template>
<ng-template #toggleModal8 let-modal style="width: auto;">
    <div class="card" style="background-color: #282E38;margin-bottom: 0;    margin: 0;">
        <div class="card-body" style="     min-width: min-content;   background-color: #282E38;">
            <div class=" float-end" ngbDropdown placement="bottom-end">
                <a href="javascript:void(0)" class="dropdown-toggle arrow-none card-drop" (click)="modal.dismiss('');basicWizardForm.reset();list=3; reloadPage();" ngbDropdownToggle>
                    <i class="mdi mdi-close"></i>
                </a>
            </div>            
            <h4 style="color: white;">Edit Organisation</h4>
    
            <form [formGroup]="OrgForm" #basicForm="ngForm">
                <div id="basicwizard">
    
                    <ul ngbNav #basicWizard="ngbNav" [(activeId)]="activeWizard2"
                        class="nav-pills nav-justified form-wizard-header mb-4" style="display: grid;
                        grid-template-columns: repeat(auto-fill, minmax(8rem , 5fr)); background-color: #313844;">
           
                        <li [ngbNavItem]="1">
                            <a [ngStyle]=" activeWizard2 > 1 ? ngstyle():null" ngbNavLink class="rounded-0 pt-2 pb-2">
                                <span class=" d-sm-inline">Products</span>
                            </a>
                            <ng-template ngbNavContent>
                                    <div style="display: grid;
                                    grid-template-columns:repeat(auto-fill, minmax(8rem , 5fr));
                                    grid-gap: 1rem;margin-bottom: 2rem;">
                                         
                                         <ng-template ngFor let-season [ngForOf]="products" let-i=index>
                                            <div class="gal-detail thumb" style=" width: 142px;
                                            height: 180px;background: #3C424F;
                                             border-radius: 8px; margin:0px">
                                                <a href="javascript:void(0)" class="image-popup" title="hi">
                                                </a>
                            
                                                <div style="    text-align: -webkit-center;
                                                display: grid;
                                                justify-items: center;
                                                grid-gap: 1rem; margin-top: 0.5rem;">
                                                    <div class="avatar-md">
                                                        <span class="avatar-title bg-soft-secondary text-secondary font-20 rounded-circle">
                                                            F{{season.product_name.charAt(0).toUpperCase()}}
                                                        </span>
                                                    </div>
                                                    <p class="text-muted mb-1">Fedo {{season.product_name === 'vitals' ? 'Vitals' : season.product_name.toUpperCase()}}</p>
                                                    <div class="form-check form-switch" style=" display: grid;justify-items: center;">
                                                        <input type="checkbox" [checked]="season.checked" (change)="updateProduct($event,season.id)"  [ngStyle]="{'pointer-events': season.noPenetration ? 'none':'fill'}"  class="form-check-input" id="customSwitch1">
                                                    </div>
                                                </div>
                                            </div>
                                        </ng-template>
                                      
    
                                    </div>
                                </ng-template>
                        </li>

                        <ng-template ngFor let-season [ngForOf]="listdetails" let-i=index>                        
                            <li [ngbNavItem]="2+i">
                            <a [ngStyle]=" activeWizard2 > 2+i ? ngstyle():null" ngbNavLink class="rounded-0 pt-2 pb-2">
                                <!-- <i class="mdi mdi-face-profile me-1"></i> -->
                                <span class=" d-sm-inline">Config {{season.product_name}}</span>
                            </a>
                            <ng-template ngbNavContent>
                                    <div class="row grid-container ">
                                        <div class="">
                                            <div class="card">
                                                <div class="card-body" style="padding-left: 0;">
                                                    <h4 class="header-title" style="color: white;">Specify Pilot Duration (Days):</h4>
                                                    <div style="    display: grid;
                                                    grid-template-columns: max-content max-content max-content;
                                                    grid-gap: 1rem;
                                                    color: #AEB5BC;">
                                                        <div class="form-check mb-2 form-check-primary">
                                                            <input class="form-check-input" type="radio"   value="true" id="customckeck1" [checked]="season.is_pilot_duration==true" (change)="pilotduration($event,season.product_name,true)">
                                                            <label class="form-check-label" for="customckeck1">Days</label>
                                                        </div>
                                                        <div class="form-check mb-2 form-check-primary">
                                                            <input class="form-check-input" type="radio"   value="false" id="customckeck1" [checked]="season.is_pilot_duration==false" (change)="pilotduration($event,season.product_name,false)">
                                                            <label class="form-check-label" for="customckeck1">Attempts</label>
                                                        </div>
                                                    </div>
                                                    <div *ngIf="season.is_pilot_duration==true">
                                                    <ngx-slider [value]="35" [(ngModel)]="season.pilot_duration" [ngModelOptions]="{standalone: true}" 
                                                        [options]="{
                                                            floor: 0,
                                                            ceil: 90    
                                                        }"></ngx-slider>
                                                        </div>
                                                        <div *ngIf="season.is_pilot_duration==false">
                                                            
                                                            <div class="form-floating ">
                                                                <input oninput="this.value=this.value.slice(0,this.maxLength)" matInput maxlength="6" type="number" class="form-control" id="userName1" style=" height: 3rem; color: #9BA6AC; width: 50%;"
                                                                    name="userName" placeholder="Zip" required [(ngModel)]="season.attempts" [ngModelOptions]="{standalone: true}" >
                                                                    <label for="floatingInput" style="font-size: 0.8rem;   color: #9BA6AC;" class="form-label" i18n>Attempts</label> 
                                                                    
                                                            </div>
                                                            
                                                        </div>
                                                </div> <!-- end card-body -->
                                            </div> <!-- end card-->
                                            <!-- <div style="padding-bottom:1rem">
                                                <h4 class="header-title" style="color: white;">Enable Fedo Score:</h4>{{season.name}}
                                                <div class="form-check form-switch" style=" display: grid;">
                                                    <input type="checkbox" [(ngModel)]="season.fedoscore" [ngModelOptions]="{standalone: true}" class="form-check-input"  [readonly]="orglogin" id="customSwitch1">
                                                </div>
                                            </div> -->
                                            <div *ngIf="season.product_name === 'Vitals'" >
                                                <div style="margin-bottom:1rem; margin-top: 1rem"    >
                                                    <h4 class="header-title" style="color: #AEB5BC;">Enable Apps:</h4>
                                                    <div style="    display: grid;
                                                    grid-template-columns: max-content max-content max-content;
                                                    grid-gap: 1rem;
                                                    color: #AEB5BC;">
                                                        <div class="form-check mb-2 form-check-primary">
                                                            <input class="form-check-input" type="checkbox" [(ngModel)]="season.mobile_access" [ngModelOptions]="{standalone: true}"  value="0" id="customckeck1" checked>
                                                            <label class="form-check-label" for="customckeck1">Android</label>
                                                        </div>
                                                        <div class="form-check mb-2 form-check-primary">
                                                            <input class="form-check-input" type="checkbox" [(ngModel)]="season.ios_access" [ngModelOptions]="{standalone: true}"  value="" id="customckeck1" checked>
                                                            <label class="form-check-label" for="customckeck1">iOS</label>
                                                        </div>
                                                        <div class="form-check mb-2 form-check-primary">
                                                            <input class="form-check-input" type="checkbox" [(ngModel)]="season.web_access" [ngModelOptions]="{standalone: true}"  value="" id="customckeck1" checked>
                                                            <label class="form-check-label" for="customckeck1">WebApp</label>
                                                        </div>
                                                    </div>
                                                </div>
                                                <!-- {{season.event_mode}} season -->
                                                
                                                <!-- <div class="mb-3" *ngIf="season.event_mode!='0'"  >
                                                    <h4 class="header-title" style="color: #AEB5BC;">Event Mode Ends With:</h4>
                                                    <div style="display: grid; grid-template-columns: max-content max-content;grid-gap:1rem">
                                                        <div >
                                              <input type="radio" class="form-check-input" id="customRadio1" (click)="setEventMode($event,season.product_name,1)"[checked]="season.event_mode==1"   />
                                              <label class="form-check-label" for="customRadio1">&nbsp;Thank You Popup</label>
                                            </div>
                                            <div >
                                              <input type="radio" class="form-check-input" id="customRadio2" (click)="setEventMode($event,season.product_name,2)"  [checked]="season.event_mode==2"   />
                                              <label class="form-check-label" for="customRadio1"
                                                >&nbsp;Vitals Dashboard</label>
                                            </div>
                                                    </div>
                                      </div> -->
                                            </div>
                                        </div>
                                        <div class="card-body" style="padding: 0;margin-top:1.5rem; margin-left: 1rem; " >
                                            <div style="padding-bottom: 1rem;">
                                                <h4 class="header-title" style="color: #AEB5BC;">Enable Fedo Score</h4>
                                                <div class="form-check form-switch" style=" display: grid;">
                                                    <input type="checkbox" (change)="next=!next" class="form-check-input" [(ngModel)]="season.fedoscore" [ngModelOptions]="{standalone: true}" id="customSwitch1">
                                                </div>
                                            </div>
                                            <div *ngIf="season.product_name === 'Vitals'" >
                                                <div style="padding-bottom:1rem">
                                                    <h4 class="header-title" style="color: #AEB5BC;">Enable Event Mode:</h4>
                                                    <div class="form-check form-switch" style=" display: grid;">
                                                        <input type="checkbox"  class="form-check-input"(change)="eventmode($event,season.product_name)"  [ngModel]="season.event_mode!=='0'?true:false" [ngModelOptions]="{standalone: true}" id="customSwitch1">
                                                    </div>
                                                </div>
                                                
                                                <div  style="padding-bottom:1rem">
                                                    <h4 class="header-title" style="color: #AEB5BC;">Enable Application Number</h4>
                                                    <div class="form-check form-switch" style=" display: grid;">
                                                        <input type="checkbox" (change)="next=!next" class="form-check-input" [(ngModel)]="season.is_application_number" [ngModelOptions]="{standalone: true}" id="customSwitch1">
                                                    </div>
                                                </div>
                                                 <div style="padding-bottom:1rem">
                                                        <h4 class="header-title" style="color: #AEB5BC;">Enable Questionnaire:</h4>
                                                        <div class="form-check form-switch" style=" display: grid;">
                                                            <input type="checkbox"  class="form-check-input"  [(ngModel)]="season.enable_questionnaire" [ngModelOptions]="{standalone: true}" id="customSwitch1">
                                                        </div>
                                                    </div>
                                                    <div style="padding-bottom:1rem">
                                                        <h4 class="header-title" style="color: #AEB5BC;">Send SMS link to Customers:</h4>
                                                        <div class="form-check form-switch" style=" display: grid;">
                                                            <input type="checkbox"  class="form-check-input"  [(ngModel)]="season.enable_sms" [ngModelOptions]="{standalone: true}" id="customSwitch1">
                                                        </div>
                                                    </div>
                                                <div>
                                                    <div style="padding-bottom:1rem">
                                                        <h4 class="header-title" style="color: #AEB5BC;">Enable Kiosk</h4>
                                                        <div class="form-check form-switch" style=" display: grid;">
                                                            <input type="checkbox"  class="form-check-input" [ngModel]="season.enable_kiosk" [ngModelOptions]="{standalone: true}" (change)="event_kiosc($event,season.product_name)"> 
                                                        </div>
                                                    </div>
                
                                                    <div class="form-floating mb-3"  *ngIf="season.enable_kiosk"> 
                                                        <!-- <input   type="text" class="form-control" id="season.kiosc_user" style=" height: 3rem; color: #9BA6AC; width : auto;" 
                                                            name="userName" placeholder="City"  required="'"  [(ngModel)]="season.kiosk_user"  [ngModelOptions]="{standalone: true}" (blur)="checkInputValue(season.kiosk_user,season.product_name)">  -->
                                                            <!-- <label for="floatingInput" style="font-size: 0.8rem ;   color: #9BA6AC;" class="form-label" i18n>Kiosk User</label> -->
                                                            <select [value]='country' #kiosk_user (change)="checkInputValue(kiosk_user,season.product_name)" style=" height: 3rem; color: #9BA6AC ; padding: 0 1rem;background:white;width:auto; background-color: #383E4A;
                                                        border: 1px solid #444C5B;">
                                                        <option [selected]>  {{selectedValue ? selectedValue : season.kiosk_user}} </option>
                                                        <option value="" *ngFor="let c of kiosk_users" [value]='c' >  {{c}} </option>
                                                        </select>
                                                            
                                                    </div> 
                                                    
                                                </div>

                                                

                                         
                                            <!-- <div style="margin-bottom: 1rem;">
                                                <h4 class="header-title" style="color: #AEB5BC;margin:0">Limit Scans</h4>
                                                <div class="form-check form-switch" style=" display: grid;">
                                                    <input type="checkbox"  class="form-check-input" [(ngModel)]="season.limitScans" [ngModelOptions]="{standalone: true}" id="customSwitch1">
                                                </div>
                                            </div> -->
                                            <!-- <div *ngIf="season.limitScans" style="display: grid;grid-template-columns: 1fr 1fr;grid-gap:1rem">
                                                <div class="">
                                                    <div class="form-floating mb-3">
                                                        <input oninput="this.value=this.value.slice(0,this.maxLength)" matInput maxlength="10" type="number" class="form-control" id="userName1" style=" height: 3rem; color: #9BA6AC;"
                                                            name="userName" placeholder="Limit Scans" required [(ngModel)]="season.scans" [ngModelOptions]="{standalone: true}">
                                                            <label for="floatingInput" style="font-size: 0.8rem ;   color: #9BA6AC;" class="form-label" i18n>Limit Scans</label>
                                                            
                                                    </div>
                                                </div>
                                                <div class="mb-3" >
                                                    <div class="form-check">
                                                      <input type="radio" id="customRadio1" name="customRadio" (change)="change()" [checked]="notThirdParty"  class="form-check-input" />
                                                      <label class="form-check-label" for="customRadio1">Per Month</label>
                                                    </div>
                                                    <div class="form-check">
                                                      <input type="radio" id="customRadio2" name="customRadio" (change)="change()" [checked]="thirdParty"  class="form-check-input" />
                                                      <label class="form-check-label" for="customRadio1"
                                                        >In Total</label
                                                      >
                                                    </div>   
                                                  </div>

                                            </div> -->
                                            </div>

                                        </div>

                                    </div>
                                </ng-template>
                        </li>
                        </ng-template>

                        <li [ngbNavItem]="list">
                            <a style="pointer-events: none;" ngbNavLink class="rounded-0 pt-2 pb-2" style="pointer-events: none;">
                                <span class=" d-sm-inline">Finish</span>
                            </a>
                            <ng-template ngbNavContent>
                                <div class="row">
                                    <div class="col-12">
                                        <div class="text-center">
                                            <h2 class="mt-0"><i class="mdi mdi-check-all" style="color: #fff;"></i></h2>
                                            <h3 class="mt-0" style="color: #fff;">Success !</h3>
    
                                            <p class="w-75 mb-2 mx-auto" style="color: #AEB5BC">Your changes have been saved successfully.</p>
                                        </div>
                                    </div>
                                </div> 
                            </ng-template>
                            
                        </li>
                    </ul>
    
                    <div [ngbNavOutlet]="basicWizard" class="b-0 mb-0 pt-0"></div>
                    <ul class="list-inline mb-0 wizard" >
                        <div *ngIf="showOrgLiveAlert" class="mb-3" style="width: 100%;
                                        margin-top: 0.25rem;
                                        font-size: 0.75rem;
                                        color: #F08F8F;">

                                                  {{errorOrgMessage}}
                                                
                                              </div>
                        <li class="previous list-inline-item" *ngIf="!(activeWizard2 == list)">
                            <button class="btn btn-secondary" (click)="activeWizard2=activeWizard2-1" *ngIf="activeWizard2 !== list"
                                [disabled]="activeWizard2===1">Previous</button>
                        </li>
                        <li class="next " style="text-align: center;" *ngIf="activeWizard2 == list">
                            <button type="button"    style="width: 100px;"  class="btn btn-secondary mt-4" (click)="modal.dismiss('');OrgForm.reset();listorg=3;listdetails=[]; reloadPage();"
                                >Close</button>
                        </li>
                        <li class="next list-inline-item float-end" *ngIf="!(activeWizard2 == list)">
                            <button type="button" (click)="activeWizard2=activeWizard2+1" style="width: 100px;" class="btn btn-info"
                                *ngIf="activeWizard2<list-1">Next</button>
                            <button type="button" class="btn btn-secondary" (click)="checkingProductOrgForm()" style="width: 100px;" class="btn btn-info"
                                *ngIf="activeWizard2 == list-1">Submit</button>
                        </li>
                    </ul>
    
    
    
                </div> <!-- end #basicwizard-->
            </form>
    
        </div> <!-- end card-body -->
    </div> <!-- end card-->
</ng-template>

