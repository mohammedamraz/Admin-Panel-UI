<ng-template #toggleModal1 let-modal>
    <div class="card" style="background-color: #282E38;margin-bottom: 0;">
        <div class="card-body" style="    width: 40rem;
        background: #272d35;">
            <div class=" float-end" ngbDropdown placement="bottom-end">
                <a href="javascript:void(0)" class="dropdown-toggle arrow-none card-drop" (click)="modal.dismiss('');basicWizardForm.reset();list=4;listdetails=[];" ngbDropdownToggle>
                    <i class="mdi mdi-close"></i>
                </a>
            </div>            
            <h4 style="color: white;">create organization</h4>
    
            <form [formGroup]="basicWizardForm" #basicForm="ngForm">
                <div id="basicwizard">
    
                    <ul ngbNav #basicWizard="ngbNav" [(activeId)]="activeWizard2"
                        class="nav-pills nav-justified form-wizard-header mb-4" style="display: grid;
                        grid-template-columns: repeat(auto-fill, minmax(7rem , 5fr)); background-color: #313844;">
                        <li [ngbNavItem]="1">
                            <a ngbNavLink class="rounded-0 pt-2 pb-2">
                                <!-- <i class="mdi mdi-account-circle me-1"></i> -->
                                <span class="d-none d-sm-inline">Org Details</span>
                            </a>
                            <ng-template ngbNavContent>
                                <div class="row" >
                                    <div class="col-12">
                                        <div class="row mb-3">
                                            <div class="col-md">
                                                <div class="form-floating ">
                                                    <input type="text" class="form-control" id="userName1" style="background: #383E4A;
                                                    border: 1px solid #444C5B;    height: 3rem;
                                                    border-radius: 4px;"
                                                        name="userName" placeholder="Organisation Name" required formControlName="organization_name"[ngClass]="{ 'is-valid': basicForm.submitted && form1['organization_name'].valid , 'is-invalid': basicForm.submitted && form1['organization_name'].invalid }">
    
                                                        <!-- <div *ngIf="basicForm.submitted && form1['organization_name'].valid" class="valid-feedback">
                                                            Looks good!
                                                        </div>
                                 -->
                                 <label for="floatingInput" style="font-size: 0.8rem" class="form-label" i18n>Organisation Name</label>
                                                        <div *ngIf="basicForm.submitted && form1['organization_name'].invalid && form1['organization_name'].invalid " class="invalid-feedback">
                                                            Please enter Organisation Name.
                                                        </div>

                                                </div>

                            


                                            </div>
                                        </div>
                                        <div class="row ">
                                            <div class="col-md-6">
                                                <div class="form-floating mb-3">
                                                    <input type="text" class="form-control" id="userName1" style="background: #383E4A;
                                                    border: 1px solid #444C5B;
                                                    border-radius: 4px;    height: 3rem;"
                                                        name="userName" placeholder="Org Admin Full Name" requied formControlName="admin_name"[ngClass]="{ 'is-valid': basicForm.submitted && form1['admin_name'].valid , 'is-invalid': basicForm.submitted && form1['admin_name'].invalid }">
                                                        <div *ngIf="basicForm.submitted && form1['admin_name'].invalid" class="invalid-feedback">
                                                            Please enter Admin Name.
                                                        </div>
                                                        <label for="floatingInput" style="font-size: 0.8rem" class="form-label" i18n>Org Admin Full Name</label
                                                      >
                                                </div>
                                                    <!-- <div *ngIf="basicForm.submitted && form1['organization_name'].valid" class="valid-feedback">
                                                        Looks good!
                                                    </div> -->

                                            </div>
                                            <div class="col-md-6">
                                                <div class="form-floating mb-3">
                                                    <input type="text" class="form-control" id="userName1" style="background: #383E4A;
                                                    border: 1px solid #444C5B; height: 3rem;
                                                    border-radius: 4px;"
                                                        name="userName" placeholder="Designation" required formControlName="designation" [ngClass]="{'is-valid':basicForm.submitted&&form1['designation'].valid , 'is-invalid':basicForm.submitted&&form1['designation'].invalid}">
                                                        <label for="floatingInput" style="font-size: 0.8rem" class="form-label" i18n>Designation</label>
                                                        <div *ngIf="basicForm.submitted && form1['designation'].invalid" class="invalid-feedback">
                                                            Please enter Designation.
                                                        </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row " >
                                            <div class="col-md-6">
                                                <div class="form-floating mb-3">
                                                    <input type="text" class="form-control" id="userName1" style="background: #383E4A;
                                                    border: 1px solid #444C5B;  height: 3rem;
                                                    border-radius: 4px;"
                                                        name="userName" placeholder="Email Address" required formControlName="organization_email"  [ngClass]="{'is-valid':basicForm.submitted&&form1['organization_email'].valid , 'is-invalid':basicForm.submitted&&form1['organization_email'].invalid}">
                                                        <div *ngIf="basicForm.submitted && form1['organization_email'].invalid" class="invalid-feedback">
                                                             Enter Valid Email ID
                                                        </div>
                                                        <label for="floatingInput" style="font-size: 0.8rem" class="form-label" i18n>Email Address</label>

                                                </div>
                                                    <!-- <div *ngIf="basicForm.submitted && form1['organization_email'].errors">
                                                        Official Email not valid.
                                                    </div> -->



                                            </div>
                                            <div class="col-md-6">
                                                <div class="form-floating mb-3">
                                                    <input oninput="this.value=this.value.slice(0,this.maxLength)" matInput maxlength="10" type="number" class="form-control" id="userName1" style="background: #383E4A;
                                                    border: 1px solid #444C5B; height: 3rem;
                                                    border-radius: 4px;"
                                                        name="userName" placeholder="Mobile Number" required formControlName="organization_mobile" [ngClass]="{'is-valid':basicForm.submitted&&form1['organization_mobile'].valid , 'is-invalid':basicForm.submitted&&form1['organization_mobile'].invalid}">
                                                        <div *ngIf="basicForm.submitted && form1['organization_mobile'].invalid" class="invalid-feedback">
                                                            Please enter Mobile Number .
                                                        </div>
                                                        <label for="floatingInput" style="font-size: 0.8rem" class="form-label" i18n>Mobile Number</label>
                                                </div>
                                                   

                                            </div>
                                        </div>
    
                                      
                                    </div> <!-- end col -->
                                </div> <!-- end row -->
                            </ng-template>
                        </li>
                        <li [ngbNavItem]="2">
                            <a ngbNavLink class="rounded-0 pt-2 pb-2">
                                <!-- <i class="mdi mdi-face-profile me-1"></i> -->
                                <span class="d-none d-sm-inline">Org Settings</span>
                            </a>
                            <ng-template ngbNavContent>
                                    <div class="row" style="    display: grid;
                                    grid-template-columns: 1fr 1fr;   grid-gap: 4rem; padding-bottom: 1rem;">
                                        <div >
                                            <h4 class="header-title" style="color: white;">Define Org URL</h4>
                                            <div class="row" style="display: grid;
                                            grid-template-columns: min-content max-content;">
                                            <div style="place-self: center;padding-right: 0;">www.fedo.ai/admin/vital/</div><input type="text" class="form-control" id="userName1" style="background: #383E4A;
                                            border: 1px solid #444C5B;    width: 50%;
                                            border-radius: 4px;"    
                                                name="userName" placeholder="ABSLI"required="" formControlName="url" [ngClass]="{'is-valid':basicForm.submitted&&form1['url'].valid , 'is-invalid':basicForm.submitted&&form1['url'].invalid}">
                                                <div *ngIf="form1['url'].invalid&&basicForm.touched" class="invalid-feedback">
                                                    Please enter url .
                                                </div>

                                            </div>

                                        </div>
                                        
                                            <div class="card" style="background: #313844; padding:1rem;" *ngIf="srcImage!=='./assets/images/fedo-logo-white.png'">
                                                <div class="card mt-1 mb-0 shadow-none border" *ngIf="srcImage=='./assets/images/fedo-logo-white.png'">
                                                    <div  style="align-self: center;">
                                                        <div class="row align-items-center" style="    place-content: center;">
                                                        
                                                        <img src={{srcImage}} alt="" style="width: 90%; height: 133px;border-radius: 5px;  border: 2px dashed #717386; margin-bottom: 1rem;" >
                                                    </div>
                                                    </div>
                                                    </div>
                                                    <div class="dropzone-previews" id="file-previews">
                                    
                                                        <div id="uploadPreviewTemplate" *ngFor="let f of files">
                                                            <div class="card mt-1 mb-0 shadow-none border">
                                                                <div style="align-self: center;">
                                                                    <div class="row align-items-center" style="    place-content: center;">
                                                                            <img class="avatar-sm rounded bg-light" [alt]="f.name" style="width: 90%;height: 133px;border-radius: 5px; border: 2px dashed #717386; margin-bottom: 1rem;"
                                                                                [src]="getPreviewUrl(f)">
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                    
                                                    <div  style="display: grid; 
                                                    grid-template-columns: min-content min-content;
                                                    place-self: center;
                                                 grid-gap: 1rem;">
                                                 <div style="background: #3C424F;padding-top: 0.5rem;border-radius: 6px !important;">
                                                        <ngx-dropzone (change)="onSelect($event)" class="dropzone" style="background: #3C424F; border: none; overflow-x: none;height: 0;    padding: 1rem;
                                                        border-radius: 5px;overflow: hidden;"
                                                        accept="image/jpeg,image/jpg,image/png,image/gif">
                                                        <ngx-dropzone-label>
                                                            <i class="h1 text-muted dripicons-cloud-upload"></i>
                                           
                                                        </ngx-dropzone-label>
                                                    </ngx-dropzone>
                                                </div>
                                    
                                                    <div class="col-auto" style="background: #3C424F;    align-self: center; border-radius: 6px !important;">
                                           
                                                            <a href="javascript:void(0)" class="btn btn-link btn-lg text-muted" style="padding: 0;"
                                                            (click)="onRemove($event)">
                                                            <i class="mdi mdi-delete" style="font-size: 34px;padding: 1rem;"></i>
                                                        </a>
                                    
                                                    </div>
                                    
                                                    </div>
                                            </div>

                                            <div style="    background:#424a57;
                                            padding: 1rem;border-radius: 10px;"*ngIf="srcImage=='./assets/images/fedo-logo-white.png'">
                                                <ngx-dropzone (change)="onSelect($event)" class="dropzone" style="height: auto !important;    background: #313844;"
                                                accept="image/jpeg,image/jpg,image/png,image/gif">
                                                <ngx-dropzone-label>
                                                    <i class="h1 text-muted dripicons-cloud-upload"></i>
                                                    <h3 style="font-size: initial; color: #AEB5BD;">Drop files here or click to upload.</h3>
                                                </ngx-dropzone-label>
                        
                                            </ngx-dropzone>

                                            </div>
                            

                                    </div>
                                </ng-template>
                        </li>
                        <li [ngbNavItem]="3">
                            <a ngbNavLink class="rounded-0 pt-2 pb-2">
                                <!-- <i class="mdi mdi-face-profile me-1"></i> -->
                                <span class="d-none d-sm-inline">Products</span>
                            </a>
                            <ng-template ngbNavContent>
                                    <div style="display: grid;
                                    grid-auto-flow: column;
                                    grid-template-columns:min-content min-content;
                                    grid-gap: 1rem;margin-bottom: 2rem;">
                                         
                                                <ng-template ngFor let-season [ngForOf]="products" let-i=index>
                                                    <div class="gal-detail thumb" style="    width: 142px;
                                                    height: 180px;
                                                    background: #3C424F;
                                                    border-radius: 8px;">
                                                        <a href="javascript:void(0)" class="image-popup" title="hi">
                                                        </a>
                                    
                                                        <div style="    text-align: -webkit-center;
                                                        display: grid;
                                                        justify-items: center;
                                                        grid-gap: 1rem; margin-top: 0.5rem;">
                                                            <div class="avatar-md">
                                                                <span class="avatar-title bg-soft-secondary text-secondary font-20 rounded-circle">
                                                                    F{{season.product_name.charAt(0).toUpperCase()}}
                                                                </span>
                                                            </div>
                                                            <p class="text-muted mb-1">Fedo {{season.product_name}}</p>
                                                            <div class="form-check form-switch" style=" display: grid;justify-items: center;">
                                                                <input type="checkbox" formControlName="{{season.product_name}}" (change)="demoFunction($event,season)" class="form-check-input" id="customSwitch1">
                                                            </div>
                                                        </div>
                                                    </div>
                                                </ng-template>
                                    </div>
                                </ng-template>
                        </li>

                        <ng-template ngFor let-season [ngForOf]="listdetails" let-i=index>                        
                            <li [ngbNavItem]="season.index">
                            <a ngbNavLink class="rounded-0 pt-2 pb-2">
                                <!-- <i class="mdi mdi-face-profile me-1"></i> -->
                                <span class="d-none d-sm-inline">config {{season.name}}</span>
                            </a>
                            <ng-template ngbNavContent>
                                    <div class="row" style="    display: grid;
                                    grid-template-columns: 16rem 13rem;   grid-gap: 1rem;">
                                        <div  style="padding-bottom:1rem ;">
                                            <div class="card">
                                                <div class="card-body" style="padding-left: 0;">
                                                    <h4 class="header-title" style="color: white;">Specify Pilot Duration:</h4>
                                                    <ngx-slider [value]="35" [(ngModel)]="season.pilot_duration" [ngModelOptions]="{standalone: true}"
                                                        [options]="{
                                                            floor: 0,
                                                            ceil: 100
                                                        }"></ngx-slider>
                                                </div> <!-- end card-body -->
                                            </div> <!-- end card-->
                                            <div>
                                                <h4 class="header-title" style="color: white;">Enable Fedo Score:</h4>
                                                <div class="form-check form-switch" style=" display: grid;">
                                                    <input type="checkbox"  class="form-check-input" [(ngModel)]="season.fedo_score" [ngModelOptions]="{standalone: true}" id="customSwitch1">
                                                </div>
                                            </div>
                                        </div>
                                        <div class="card-body" style="padding: 0;margin-top:1.5rem" *ngIf="season.name === 'vitals'">
                                            <div>
                                                <h4 class="header-title" style="color: white;">Enable Vitals Web App</h4>
                                                <div class="form-check form-switch" style=" display: grid;">
                                                    <input type="checkbox" (change)="next=!next" class="form-check-input" [(ngModel)]="season.productaccess_web" [ngModelOptions]="{standalone: true}" id="customSwitch1">
                                                </div>
                                            </div>
                                            <div *ngIf="next">
                                            <div >
                                                <h4 class="header-title" style="color: white;">Define Web App Vitals URL:</h4>
                                                <div class="row" style="display: grid;
                                                grid-template-columns: min-content max-content;">
                                                <div style="place-self: center;padding-right: 0;">https://www.fedo.ai/products/vitals/</div><input type="text" class="form-control" id="userName1" style="background: #383E4A;
                                                border: 1px solid #444C5B;    width: 50%;
                                                border-radius: 4px;"    
                                                    name="userName" placeholder="ABSLI"required="" [(ngModel)]="season.web_url" [ngModelOptions]="{standalone: true}" [ngClass]="{'is-valid':basicForm.submitted&&form1['url'].valid , 'is-invalid':basicForm.submitted&&form1['url'].invalid}">
                                                    <div *ngIf="form1['url'].invalid&&basicForm.touched" class="invalid-feedback">
                                                        Please enter url .
                                                    </div>
    
                                                </div>
    
                                            </div>
                                            <div>
                                                <h4 class="header-title" style="color: white;">Enable Fedo Score on Vitals Web App:</h4>
                                                <div class="form-check form-switch" style=" display: grid;">
                                                    <input type="checkbox"  class="form-check-input" [(ngModel)]="season.web_fedoscore" [ngModelOptions]="{standalone: true}" id="customSwitch2">
                                                </div>
                                            </div>
                                            </div>

                                        </div>

                                    </div>
                                </ng-template>
                        </li>
                        </ng-template>

                        <li [ngbNavItem]="list">
                            <a ngbNavLink class="rounded-0 pt-2 pb-2" style="pointer-events: none;">
                                <!-- <i class="mdi mdi-checkbox-marked-circle-outline me-1"></i> -->
                                <span class="d-none d-sm-inline">Finish</span>
                            </a>
                            <ng-template ngbNavContent>
                                <div class="row">
                                    <div class="col-12">
                                        <div class="text-center">
                                            <h2 class="mt-0"><i class="mdi mdi-check-all" style="color: #fff;"></i></h2>
                                            <h3 class="mt-0" style="color: #fff;">Success !</h3>
    
                                            <p class="w-75 mb-2 mx-auto">You have successfully created the Organisation {{org_name}} . An invitaton email has already been sent to the Org Admin.
                                                 You may inform the Org Admin to check mail and follow instructions to sign up and start Pilot.</p>
                                        </div>
                                    </div>
                                </div> 
                            </ng-template>
                            
                        </li>
                    </ul>
    
                    <div [ngbNavOutlet]="basicWizard" class="b-0 mb-0 pt-0"></div>
                    <ul class="list-inline mb-0 wizard" >
                        <div id="liveAlertPlaceholder">
                            <ngb-alert type="warning" *ngIf="showLiveAlert" (closed)="showLiveAlert = false">{{errorMessage}}</ngb-alert>
                        </div>
                        <li class="previous list-inline-item" *ngIf="!(activeWizard2 == list)">
                            <button class="btn btn-secondary" (click)="activeWizard2=activeWizard2-1" *ngIf="activeWizard2 !== list"
                                [disabled]="activeWizard2===1">Previous</button>
                        </li>
                        <li class="next " style="text-align: center;" *ngIf="activeWizard2 == list">
                            <button type="button" class="btn btn-secondary" (click)="listdetails=[];modal.dismiss('');basicWizardForm.reset();"
                                >Close</button>
                        </li>
                        <li class="next list-inline-item float-end" *ngIf="!(activeWizard2 == list)">
                            <button type="submit" (click)="fetchData()" class="btn btn-info" 
                                *ngIf="activeWizard2<list-1">Next</button>
                            <button type="button" class="btn btn-info" (click)="checkingForm();basicWizardForm.reset();"
                                *ngIf="activeWizard2!=3&&activeWizard2 == list-1">Submit</button>
                        </li>
                    </ul>
    
    
    
                </div> <!-- end #basicwizard-->
            </form>
    
        </div> <!-- end card-body -->
    </div> <!-- end card-->
</ng-template>

<ng-template #toggleModal2 let-modal>
    <div class="card" style="background-color: #282E38;margin-bottom: 0;">
        <div class="card-body">
            <div class=" float-end" ngbDropdown placement="bottom-end">
                <a href="javascript:void(0)" class="dropdown-toggle arrow-none card-drop" (click)="modal.dismiss('');basicWizardForm.reset();list=3" ngbDropdownToggle>
                    <i class="mdi mdi-close"></i>
                </a>
            </div>            
            <h4 style="color: white;">Create User</h4>
    
            <form [formGroup]="userForm" #basicForm="ngForm">
                <div id="basicwizard">
                    <ul ngbNav #basicWizard="ngbNav" [(activeId)]="activeWizard2"
                        class="nav-pills nav-justified form-wizard-header mb-4" style="display: grid;
                        grid-template-columns: repeat(auto-fill, minmax(7rem , 5fr)); background-color: #313844;">
                        <li [ngbNavItem]="1">
                            <a ngbNavLink class="rounded-0 pt-2 pb-2">
                                <!-- <i class="mdi mdi-account-circle me-1"></i> -->
                                <span class="d-none d-sm-inline">User Details</span>
                            </a>
                            <ng-template ngbNavContent>
                                <div class="row" >
                                    <div class="col-12">
                                        <div class="row ">
                                            <div class="col-md-6">
                                                <div class="form-floating mb-3">
                                                    <input type="text" class="form-control" id="userName1" style="background: #383E4A;
                                                    border: 1px solid #444C5B; height: 3rem; 
                                                    border-radius: 4px;"
                                                        name="userName" placeholder="User Full Name" formControlName="user_name">
                                                        <label for="floatingInput" style="font-size: 0.8rem" class="form-label" i18n>User Full Name</label>
                                                    </div>
                                            </div>
                                            <div class="col-md-6">
                                                <div class="form-floating mb-3">
                                                    <input type="text" class="form-control" id="userName1" style="background: #383E4A;
                                                    border: 1px solid #444C5B;  height: 3rem;
                                                    border-radius: 4px;"
                                                        name="userName" placeholder="Designation" formControlName="designation">
                                                    <label for="floatingInput" style="font-size: 0.8rem" class="form-label" i18n>Designation</label>
                                                    </div>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-md-6">
                                                <div class="form-floating mb-3">
                                                    <input type="text" class="form-control" id="userName1" style="background: #383E4A;
                                                    border: 1px solid #444C5B;  height: 3rem;
                                                    border-radius: 4px;"
                                                        name="userName" placeholder="Email Address" formControlName="email">
                                                    <label for="floatingInput" style="font-size: 0.8rem" class="form-label" i18n>Email Address</label>
                                                </div>
                                            </div>
                                            <div class="col-md-6">
                                                <div class="form-floating mb-3">
                                                    <input type="text" class="form-control" id="userName1" style="background: #383E4A;
                                                    border: 1px solid #444C5B;  height: 3rem;
                                                    border-radius: 4px;"
                                                        name="userName" placeholder="Mobile Number" formControlName="mobile">
                                                 <label for="floatingInput" style="font-size: 0.8rem" class="form-label" i18n>Mobile Number</label>

                                                    </div>
                                            </div>
                                        </div>
                                        <div class="mb-3" style="display: grid; grid-template-columns: 1fr 2fr" >
                                        <div class="form-check">
                                          <input type="radio" id="customRadio1" name="customRadio" (change)="change()" [checked]="notThirdParty"  class="form-check-input" />
                                          <label class="form-check-label" for="customRadio1">Own Employee</label>
                                        </div>
                                        <div class="form-check">
                                          <input type="radio" id="customRadio2" name="customRadio" (change)="change()" [checked]="thirdParty"  class="form-check-input" />
                                          <label class="form-check-label" for="customRadio1"
                                            >Employee of TPA</label
                                          >
                                        </div>
                                      </div>
                                      <div class="col-md-8" style="display: flex; padding-bottom: 1rem; " *ngIf="thirdParty == true" >
                                        <input type="text" class="form-control" (input)="inputTpa()" id="userName1" style="
                                            background: #383e4a;
                                            border: 1px solid #444c5b;
                                            border-radius: 4px;" name="userName" placeholder="Select third-party Company or Add New" formControlName="third_party_org_name" list="codes" />
                                        <!-- <div *ngIf="userForm.controls['third_party_org_name'].invalid && userForm.controls['third_party_org_name'].touched" class="alert-danger">
                                                                      TPP required.      
                                                                  </div> -->
                  
                                        <datalist id="codes" style="background: white">
                                          <option *ngFor="let c of codeList" >
                                            {{ c }}
                                          </option>
                                        </datalist>
                                        <!-- <div > -->
                                        <button *ngIf="showButton" (click)="addTpa()" id="erase" style="
                                            background: #383e4a;
                                            height: 2.5rem;
                                            border: 1px solid #444c5b;
                                            border-radius: 4px;
                                            color: grey;
                                            padding-right: 0.5rem;
                                            padding-left: 0.5rem;">+</button>
                                        <!-- </div> -->
                                      </div>
                                        <!-- <div class="mt-3" style="display: grid;
                                        grid-template-columns: 1fr 2fr;">
                                            <div class="form-check">
                                                <input type="radio" id="customRadio1"[checked]="!thirdParty" name="customRadio" class="form-check-input" (click)="thirdParty=false">
                                                <label class="form-check-label" for="customRadio1">Own Employee</label>
                                            </div>
                                            <div class="form-check">
                                                <input type="radio" id="customRadio2" [checked]="false" name="customRadio" class="form-check-input" (click)="thirdParty=true">
                                                <label class="form-check-label" for="customRadio2">Employee of Third-Party Tie-up</label>
                                            </div>
                                        </div> -->
                                        <!-- <div class="col-md-8" style=" padding-top: 1rem;padding-bottom: 1rem;" *ngIf="thirdParty">
                                            <input type="text" class="form-control" id="userName1" style="background: #383E4A;
                                            border: 1px solid #444C5B;
                                            border-radius: 4px;"
                                                name="userName" placeholder="Select third-party Company or Add New" formControlName="third_party_org_name">
                                        </div> -->
    
                                      
                                    </div> <!-- end col -->
                                </div> <!-- end row -->
                            </ng-template>
                        </li>
                        <li [ngbNavItem]="2">
                            <a ngbNavLink class="rounded-0 pt-2 pb-2">
                                <!-- <i class="mdi mdi-face-profile me-1"></i> -->
                                <span class="d-none d-sm-inline">Products</span>
                            </a>

                                          <ng-template ngbNavContent>
                                            <div style="display: grid;
                                            grid-auto-flow: column;
                                            grid-template-columns:min-content min-content;
                                            grid-gap: 1rem;margin-bottom: 2rem;">
                                                        <ng-template ngFor let-season [ngForOf]="userProduct" let-i=index>
                                                            <div class="gal-detail thumb" style="    width: 142px;
                                                            height: 180px;
                                                            background: #3C424F;
                                                            border-radius: 8px;">
                                                                <a href="javascript:void(0)" class="image-popup" title="hi">
                                                                </a>
                                                            
                                                                <div style="    text-align: -webkit-center;
                                                                display: grid;
                                                                justify-items: center;
                                                                grid-gap: 1rem; margin-top: 0.5rem;">
                                                                    <div class="avatar-md">
                                                                        <span class="avatar-title bg-soft-secondary text-secondary font-20 rounded-circle">
                                                                            F{{season.product_name.charAt(0)}}
                                                                        </span>
                                                                    </div>
                                                                    <p class="text-muted mb-1">Fedo {{season.product_name}}</p>
                                                                    <div class="form-check form-switch" style=" display: grid;justify-items: center;">
                                                                        <input type="checkbox"  (change)="updateUserProd($event,season)" class="form-check-input" id="customSwitch1">
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </ng-template>
                                            </div>
                                        </ng-template>
                                         
                                                <!-- <div class="gal-detail thumb" style="width: 142px;
                                                height: 180px;
                                                background: #3C424F;
                                                border-radius: 8px;">
                                                    <a href="javascript:void(0)" class="image-popup" title="hi">
                                                    </a>
                                
                                                    <div style="    text-align: -webkit-center;
                                                    display: grid;
                                                    justify-items: center;
                                                    grid-gap: 1rem; margin-top: 0.5rem;">
                                                        <div class="avatar-md">
                                                            <span class="avatar-title bg-soft-secondary text-secondary font-20 rounded-circle">
                                                                FH
                                                            </span>
                                                        </div>
                                                        <p class="text-muted mb-1">Fedo HSA</p>
                                                        <div class="form-check form-switch" style=" display: grid;justify-items: center;">
                                                            <input type="checkbox"  formControlName="hsa" (change)="demoFunction($event,'hsa')" class="form-check-input" id="customSwitch1">
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="gal-detail thumb" style="    width: 142px;
                                                height: 180px;
                                                background: #3C424F;
                                                border-radius: 8px;">
                                                    <a href="javascript:void(0)" class="image-popup" title="hi">
                                                    </a>
                                
                                                    <div style="    text-align: -webkit-center;
                                                    display: grid;
                                                    justify-items: center;
                                                    grid-gap: 1rem; margin-top: 0.5rem;">
                                                        <div class="avatar-md">
                                                            <span class="avatar-title bg-soft-secondary text-secondary font-20 rounded-circle">
                                                                FV
                                                            </span>
                                                        </div>
                                                        <p class="text-muted mb-1">Fedo Vitals</p>
                                                        <div class="form-check form-switch" style=" display: grid;justify-items: center;">
                                                            <input type="checkbox" formControlName="vitals" (change)="demoFunction($event,'vitals')" class="form-check-input" id="customSwitch1">
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="gal-detail thumb" style="    width: 142px;
                                                height: 180px;
                                                background: #3C424F;
                                                border-radius: 8px;">
                                                    <a href="javascript:void(0)" class="image-popup" title="hi">
                                                    </a>
                                
                                                    <div style="    text-align: -webkit-center;
                                                    display: grid;
                                                    justify-items: center;
                                                    grid-gap: 1rem; margin-top: 0.5rem;">
                                                        <div class="avatar-md">
                                                            <span class="avatar-title bg-soft-secondary text-secondary font-20 rounded-circle">
                                                                FR
                                                            </span>
                                                        </div>
                                                        <p class="text-muted mb-1">Fedo RUW</p>
                                                        <div class="form-check form-switch" style=" display: grid;justify-items: center;">
                                                            <input type="checkbox" formControlName="ruw"  (change)="demoFunction($event,'ruw')" class="form-check-input" id="customSwitch1">
                                                        </div>
                                                    </div>
                                                </div> -->
                                      <!-- </div> -->
                                <!-- </ng-template> -->
                        </li>

                        <li [ngbNavItem]="3">
                            <a ngbNavLink class="rounded-0 pt-2 pb-2">
                                <!-- <i class="mdi mdi-checkbox-marked-circle-outline me-1"></i> -->
                                <span class="d-none d-sm-inline">Finish</span>
                            </a>
                            <ng-template ngbNavContent>
                                <div class="row">
                                    <div class="col-12">
                                        <div class="text-center">
                                            <h2 class="mt-0"><i class="mdi mdi-check-all" style="color: #fff;"></i></h2>
                                            <h3 class="mt-0" style="color: #fff;">Success !</h3>
    
                                            <p class="w-75 mb-2 mx-auto">You have successfully created the User {{user_name}}. An invitaton email has already been sent to the User.
                                                You may inform the User to check mail and follow instructions to sign up and start Pilot.</p>
                                        </div>
                                    </div>
                                </div> 
                            </ng-template>
                            
                        </li>
                    </ul>
    
                    <div [ngbNavOutlet]="basicWizard" class="b-0 mb-0 pt-0"></div>
                    <ul class="list-inline mb-0 wizard" >
                        <div id="liveAlertPlaceholder">
                            <ngb-alert type="warning" *ngIf="showLiveAlert" (closed)="showLiveAlert = false">{{errorMessage}}</ngb-alert>
                        </div>
                        <li class="previous list-inline-item" *ngIf="!(activeWizard2 == list)">
                            <button class="btn btn-secondary" (click)="activeWizard2=1" *ngIf="activeWizard2 !== 3"
                                [disabled]="activeWizard2===1">Previous</button>
                        </li>
                        <li class="next " style="text-align: center;" *ngIf="activeWizard2 == 3">
                            <button type="button" class="btn btn-secondary" (click)="modal.dismiss('');basicWizardForm.reset();list=3"
                                >Close</button>
                        </li>
                        <li class="next list-inline-item float-end" *ngIf="!(activeWizard2 == 3)">
                            <button type="button" (click)="activeWizard2=activeWizard2+1" class="btn btn-secondary" 
                                *ngIf=" activeWizard2==1">Next</button>
                            <button type="button" class="btn btn-secondary" (click)="checkingUserForm()"
                                *ngIf="activeWizard2==2">Submit</button>
                        </li>
                    </ul>
    
    
    
                </div> <!-- end #basicwizard-->
            </form>
    
        </div> <!-- end card-body -->
    </div> <!-- end card-->
</ng-template>
<div class="card" style="background: #313844;">
    <div class="card-body">
        <div class=" float-end" ngbDropdown placement="bottom-end">
            <a href="javascript:void(0)"  class="dropdown-toggle arrow-none card-drop" ngbDropdownToggle>
                <i class="mdi mdi-dots-vertical"></i>
            </a>
            <div ngbDropdownMenu>
                <a href="javascript:void(0);" (click)="open(toggleModal1)" ngbDropdownItem>Create Org</a>
            </div>
        </div>            
        <div class=" float-end" ngbDropdown placement="bottom-end">
            <a href="javascript:void(0)" (click)="open(toggleModal1)" class="dropdown-toggle arrow-none card-drop" ngbDropdownToggle>
                <i class="mdi mdi-plus"></i>
            </a>
        </div>            
        <h4 class="mt-0 header-title" style="color: white;">Organisation List</h4>
        <!-- <p class="text-muted font-14 mb-3">
            For basic styling—light padding and only horizontal dividers—add the base class <code>.table</code>
            to any <code>&lt;table&gt;</code>.
        </p> -->

        <div class="table-responsive" style="    overflow-x: inherit;" >
            <table class="table mb-0">
                <thead style=" font-weight: 700;   color: #9BA6AC;     border-color: #9BA6AC;">
                    <tr style="border-color: #49565d;">
                        <th>#</th>
                        <th>Org Name</th>
                        <th>Pilots</th>
                        <th style="    text-align: -webkit-center;">Total Users</th>
                        <th style="    text-align: -webkit-center;">Total Tests</th>
                        <th></th>

                    </tr>
                </thead>
                <tbody style=" font-weight: 400;  color: #9BA6AC;    border-color: #49565d;">
                    <tr class="over-hover" style="border-color: #49565d;" *ngFor="let person of tabDAta;let indexOfelement=index;">
                        <th scope="row">{{indexOfelement+1}}</th>
                        <td>{{person.organization_name}}</td>
                        <td>
                            <div style="    display: grid;
                            grid-template-columns: 1fr 1fr 1fr;
                            grid-gap: 1rem;">
                                <ng-template ngFor let-season [ngForOf]="person.product" let-i=index>      
                                    <div class="">
                                        <div class=" ">
                                            Fedo {{season.product_id === '1' ? 'HSA' : (season.product_id === '2' ? 'Vitals':'RUW' )}} (<span *ngIf="season.progress > 99" style="color: #F08F8F;">Expired</span><span *ngIf="season.progress < 99" style="color: green;">Active</span>)
                                            <ngb-progressbar style="margin-top: 0;" [type]="(season.progress > 99 ) ? 'danger':'warning'" [value]="season.progress" class=" progress-bar-alt-warning progress-sm"></ngb-progressbar>
                                        </div>
                                    </div>
                                </ng-template>
                            </div>

                        </td>
                        <td style="    text-align: -webkit-center;">{{person.total_users}}</td>
                        <td style="    text-align: -webkit-center;  color:#82B4F3;">{{person.total_tests}}</td>
                        <td class="option">
                            <div class=" float-end" ngbDropdown placement="bottom-end">
                                <a href="javascript:void(0)" class="dropdown-toggle arrow-none card-drop" ngbDropdownToggle>
                                    <i class="mdi mdi-dots-vertical"></i>
                                </a>
                                <div style="    border: 1px solid #4B515F;" ngbDropdownMenu>
                                    <a [routerLink]="['/orgdetails', person.id]" href="javascript:void(0);" ngbDropdownItem>Org Info</a>
                                    <a *ngIf="false" href="javascript:void(0);" (click)="open(toggleModal2);userOrganisationName=person.organization_name" (click)="open(toggleModal2); setValue(person)" ngbDropdownItem>Create Users</a>
                                    <a [routerLink]="['/userdetails', person.id]" href="javascript:void(0);" ngbDropdownItem>Users List</a>
                                </div>
                            </div> 
                        </td>
                    </tr>
                </tbody>
            </table>
            <!-- <div class="d-flex flex-wrap justify-content-center align-items-center justify-content-sm-between mt-2"
            *ngIf="true">
            <div>   
                Showing  entries
            </div>
        </div> -->
        </div>
    </div>

</div>


